(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/integral/integral_order"],{"07ed":function(e,t,s){"use strict";s.r(t);var i=s("8079"),n=s("d663");for(var o in n)"default"!==o&&function(e){s.d(t,e,(function(){return n[e]}))}(o);s("ee8f");var a,r=s("f0c5"),d=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"4ff87e29",null,!1,i["a"],a);t["default"]=d.exports},4144:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(s("a34a")),n=o(s("d0f5"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,s,i,n,o,a){try{var r=e[o](a),d=r.value}catch(u){return void s(u)}r.done?t(d):Promise.resolve(d).then(i,n)}function r(e){return function(){var t=this,s=arguments;return new Promise((function(i,n){var o=e.apply(t,s);function r(e){a(o,i,n,r,d,"next",e)}function d(e){a(o,i,n,r,d,"throw",e)}r(void 0)}))}}var d=function(){s.e("components/order/choose-address").then(function(){return resolve(s("bba5"))}.bind(null,s)).catch(s.oe)},u=function(){s.e("components/paymodel").then(function(){return resolve(s("9d0c"))}.bind(null,s)).catch(s.oe)},l={data:function(){return{load:!1,pro:[],id:0,user_score:0,integral_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/integral_hui.png",integral_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/integral_hei.png",integral_hong:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/integral.png",storeImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/store.png",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png"}},mixins:[n.default],components:{chooseAddress:d,paymodel:u},onLoad:function(e){this.id=e.id,this.$store.state.address_id=this.$store.state.address_id_def},onShow:function(){this.getCode(),this.address_id=this.$store.state.address_id,this.checkCode(),this._axios()},methods:{sChange:function(e){this.is_express=e,e?this._axios("onshow"):(this.freight=this.freightt=0,this.shop_list={id:0})},_wallet_pay:function(){var t=this;e.showLoading({title:this.language.integral.integral_order.Tips[0]});var s={module:"app",action:"integral",app:"payment",address_id:this.address_id?this.address_id:this.addre_id,jifen_id:this.id};this.$req.post({data:s}).then(function(){var s=r(i.default.mark((function s(n){return i.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:console.log(n,"支付后的接口？？？1"),200==n.code?(e.showToast({title:t.language.integral.integral_order.Tips[1],icon:"none"}),setTimeout((function(){e.setStorageSync("payRes",n),e.redirectTo({url:"/pages/pay/payResult?is_jifen=true"})}))):110==n.code?e.showToast({title:n.message,duration:1500,icon:"none"}):e.showToast({title:t.language.integral.integral_order.Tips[2],duration:1500,icon:"none"});case 2:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}())},_pay_fail:function(){},order_pay:function(){this.adds_f?Number.parseFloat(this.user_money)<Number.parseFloat(this.pro.money)?e.showToast({title:this.language.integral.integral_order.Tips[4],icon:"none"}):Number.parseFloat(this.user_score)<Number.parseFloat(this.pro.integral)?e.showToast({title:this.language.integral.integral_order.Tips[5],icon:"none"}):this.pay_display=!0:e.showToast({title:this.language.integral.integral_order.Tips[3],icon:"none"})},_axios:function(){var t=this,s={module:"app",action:"integral",app:"integral_axios",id:this.id,address_id:this.address_id};this.$req.post({data:s}).then((function(s){if(200!==s.code)return t.load=!0,void e.showToast({title:t.language.integral.integral_order.Tips[6],icon:"none"});var i=s.address,n=s.freight,o=s.password_status,a=s.products,r=s.total,d=s.user_money,u=s.user_score,l=s.enterless;t.address=i,t.price=r,t.total=r,t.pro=a,t.pro.money=parseFloat(t.pro.money),t.user_money=d,t.user_score=u,t.addre_id=i.id,t.$store.state.address_id_def||(t.$store.state.address_id_def=i.id),t.password_status=o,t.enterless=l,t.address&&(t.adds_f=0!==t.address.length),s.shop_status&&s.shop_list&&(t.shop_status=s.shop_status,t.shop_list=s.shop_list,0===s.shop_list.length?(t.shop_address_id="",e.setStorageSync("shop_address_id","")):(t.shop_address_id=s.shop_list.id,e.setStorageSync("shop_address_id",s.shop_list.id))),t.freightt=Number.parseFloat(n),t.freight=n,t.load=!0}))}}};t.default=l}).call(this,s("543d")["default"])},8079:function(e,t,s){"use strict";var i;s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return o})),s.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement;e._self._c},o=[]},b3ee:function(e,t,s){"use strict";(function(e){s("1fd4");i(s("66fd"));var t=i(s("07ed"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])},ba62:function(e,t,s){},d663:function(e,t,s){"use strict";s.r(t);var i=s("4144"),n=s.n(i);for(var o in i)"default"!==o&&function(e){s.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},ee8f:function(e,t,s){"use strict";var i=s("ba62"),n=s.n(i);n.a}},[["b3ee","common/runtime","common/vendor"]]]);