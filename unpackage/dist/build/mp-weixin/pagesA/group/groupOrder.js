(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/group/groupOrder"],{"125b":function(e,t,o){"use strict";o.r(t);var i=o("9ab0"),a=o("58d6");for(var r in a)"default"!==r&&function(e){o.d(t,e,(function(){return a[e]}))}(r);o("6b5e");var n,s=o("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"ae813300",null,!1,i["a"],n);t["default"]=u.exports},"21ea":function(e,t,o){"use strict";(function(e){o("1fd4");i(o("66fd"));var t=i(o("125b"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},"37ef":function(e,t,o){},"4f88":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("2f62");function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s={data:function(){return{title:"我的拼团",fastTap:!0,img_cg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/ass_success.png",img_sb:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/ass_fail.png",noOrder:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/noOrder.png",loadImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/loading.gif",emptyImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/empyimg92x.png",back1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",bback:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/bback.png",search2x:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/search2x.png",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/jiantou2x.png",storeImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/store.png",head:!0,header:["全部","待付款","拼团中","拼团成功","拼团失败"],header_copy:["all","notpay","grouping","success","fail"],rightText:["立即付款","提醒发货","确认收货","立即评价","退货","追加评价","再次购买","拼团详情","邀请好友"],leftText:["取消订单","查看物流","删除订单","查看详情","拼团详情"],order:"",status_id:"",dis_play:"",sreach_value:"",page:1,allLoaded:!1,autoFill:!1,bottomStatus:"",bottomPullText:"上拉加载更多...",bottomDropText:"释放更新...",loading:!1,load:!0,stau_num:null,timer:null,count:"",flag:!0,loadingType:0,value:"",isClick:!0,order_type:"all",pay:[{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yuezhifu2x.png",name:"钱包余额"},{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/weixinzhifu2x.png",name:"微信支付"},{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/zhifubaozhifu2x.png",name:"支付宝"}]}},onReachBottom:function(){var e=this;if(0==this.loadingType){this.loadingType=1,e.page+=1;var t={module:"app",action:"groupbuy",m:"grouporder",order_type:this.order_type,page:this.page};this.$req.post({data:t}).then((function(t){404==t.code&&e.isLogin((function(){}));var o=t.order;o.length>0&&(e.order=e.order.concat(o),o.length<10?e.loadingType=2:e.loadingType=0)}))}},onLoad:function(e){this.status_id=this.$store.state.status,this.order_type=this.header_copy[this.status_id],void 0==this.order_type&&(this.order_type="all"),e.isPay&&(this.status_id=1)},beforeDestroy:function(){clearInterval(this.timer)},onShow:function(){var e=this;this.load=!1,this.status_id=this.$store.state.status,this.order_type=this.header_copy[this.status_id],this.leftText=this.language.groupOrder.leftText,this.rightText=this.language.groupOrder.rightText,void 0==this.order_type&&(this.order_type="all"),e.access_id?(e.page=1,e.loadingType=0,e._axios()):e.load=!0,this.flag=!0},methods:r(r({toUrl:function(t){e.navigateTo({url:t})}},(0,i.mapMutations)({cart_id:"SET_CART_ID",order_id:"SET_ORDER_ID",address_id:"SET_ADDRESS_ID",status:"SET_STATUS"})),{},{changeLoginStatus:function(){this._axios()},_navigateTo:function(t,o){if(console.log(t,o,"跳转"),0==t)var i="/pages/order/order?showPay=true&order_id="+o+"&group=1&status="+t;else i="/pages/order/order?order_id="+o+"&group=1&status="+t;e.navigateTo({url:i,success:function(){}}),this.loadingType=0,this.page=1,this.flag=!1},_after:function(t,o,i){var a=[];a.push(o);var r=t.target.innerText;"申请售后"==r?e.navigateTo({url:"/pagesA/returnGoods/returnGoods?order_details_id"+this.order_details_id+"&order_anking=1"}):"退货拒绝"==r&&(this.display_t=!0,this.rr_content=i)},_head:function(){this.head=!this.head},_header_index:function(e){this.page=1,1==e?(this.status(1),this.order_type="notpay"):2==e?(this.status(2),this.order_type="grouping"):3==e?(this.status(3),this.order_type="success"):4==e?(this.status(4),this.order_type="fail"):0==e&&(this.status(0),this.order_type="all"),this.status_id=this.$store.state.status,this._axios()},_axios:function(){var e=this,t={module:"app",action:"groupbuy",m:"grouporder",order_type:this.order_type,page:this.page};this.access_id&&this.$req.post({data:t}).then((function(t){404==t.code&&e.isLogin((function(){})),setTimeout((function(){e.load=!0}),300);var o=t.order;e.order=o,o.length<10?e.allLoaded=!0:e.allLoaded=!1}))},_buttonLeft:function(t,o,i,a,r,n,s,u){return function(){var t=this;this.isClick&&(this.isClick=!1,setTimeout((function(){var a=t,r=i.substr(0,2),n={module:"app",action:"groupbuy",order_id:o,access_id:t.access_id};if(0==s)n.m="removeGroupOrder",e.request({data:n,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){404==t.data.code&&a.$refs.lktAuthorizeComp.handleAfterAuth(a,"../../pages/login/login?landing_code=1");var o=t.data,i=o.code;o.message;200==i?(a._axios(),e.showToast({title:a.language.groupOrder.cancelOk,duration:1e3,icon:"none"})):202==i?(e.showToast({title:a.language.groupOrder.hasDelivered,duration:1e3,icon:"none"}),a._axios()):e.showToast({title:a.language.groupOrder.networkBusy,duration:1e3,icon:"none"})}});else if(2==s||3==s||5==s){var u={module:"app",action:"order",app:"logistics",id:i,access_id:t.access_id,o_source:1,type:""};1==t.source&&(u.type="pond"),e.request({url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},data:u,method:"POST",success:function(t){if(e.hideLoading(),200==t.data.code){var o=t.data.res;o.length>1?e.navigateTo({url:"../../pagesB/expressage/expressage?sNo="+i}):e.navigateTo({url:"../../pages/expressage/expressage?list="+JSON.stringify(o[0])+"&sNo="+i})}else e.showToast({title:t.data.message,duration:1500,icon:"none"})},fail:function(t){e.showToast({title:a.language.groupOrder.loadFail,duration:2e3,icon:"none"})}})}else if(4==s||1==s&&"PT"!=r)e.navigateTo({url:"../../pages/order?order_id="+o+"&group=1"});else if(9==s||10==s||1==s&&"PT"==r){var d="../group/group_end?sNo="+i+"&returnR=1&status="+s;e.navigateTo({url:d})}else 12!=s&&7!=s&&6!=s&&11!=s||(n.m="del_order",n.app="del_order",n.m="del_order",e.request({data:n,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){404==t.data.code&&a.$refs.lktAuthorizeComp.handleAfterAuth(a,"../../pages/login/login?landing_code=1");var o=t.data,r=o.code,n=o.message;if(200==r){e.showToast({title:a.language.groupOrder.delOk,duration:1e3,icon:"none"});var s=a.order.findIndex((function(e){return e.sNo==i}));a.order.splice(s,1)}else e.showToast({title:n,duration:1e3,icon:"none"})}}));t.isClick=!0}),100))}.call(this)},_goStore:function(t){e.navigateTo({url:"/pagesA/store/store?shop_id="+t})},_buttonRight:function(t,o,i,a,r,n,s,u,d){var l=this,c=this,g=i.substr(0,2);if(7==s||6==s||12==s){var p={module:"app",action:"order ",app:"buy_again",id:o};this.$req.post({data:p}).then((function(t){404==t.code&&l.isLogin((function(){}));var o=t.cart_id,i=t.code;200==i?(c.cart_id(o),c.order_id(""),c.address_id(""),e.navigateTo({url:"/pages/pay/orderDetailsr"})):105==i&&e.showToast({title:c.language.groupOrder.noStockTips,duration:2e3,icon:"none"})}))}else if(0==s){c.order_id(o),c.address_id("");var h="/pages/order/order?order_id="+o+"&group=1";"PT"!=g&&(h+="&showPay=true"),e.navigateTo({url:h})}else if(1==s){if(!this.fastTap)return;if(this.fastTap=!1,0==u){p={module:"app",sNo:i,m:"delivery_delivery",action:"groupbuy"};this.$req.post({data:p}).then((function(t){c.fastTap=!0,404==t.code&&l.isLogin((function(){})),200==t.code&&(e.showToast({title:c.language.groupOrder.hasRemind,duration:1e3,icon:"none"}),c._axios())}))}else c.fastTap=!0}else if(4==s)e.navigateTo({url:"/pages/order?order_id="+o+"&group=1"});else if(3==s)console.log(d[0].id),e.navigateTo({url:"/pages/evaluate/evaluating?order_details_id="+d[0].id+"&num=all"});else if(5==s)e.navigateTo({url:"/pages/evaluate/evaluating?order_details_id="+d[0].id+"&add=true&num=all"});else if(9==s||10==s||11==s){h="../group/group_end?sNo="+i+"&returnR=1";e.navigateTo({url:h})}else if(2==s){p={module:"app",action:"order",app:"ok_Order",order_id:o};this.$req.post({data:p}).then((function(t){404==t.code&&l.isLogin((function(){}));var o=t.code;200==o?(e.showToast({title:c.language.groupOrder.receivedOk,duration:1e3,icon:"none"}),c._axios()):e.showToast({title:c.language.groupOrder.receivedFail,duration:1e3,icon:"none"})}))}}})};t.default=s}).call(this,o("543d")["default"])},"58d6":function(e,t,o){"use strict";o.r(t);var i=o("4f88"),a=o.n(i);for(var r in i)"default"!==r&&function(e){o.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"6b5e":function(e,t,o){"use strict";var i=o("37ef"),a=o.n(i);a.a},"9ab0":function(e,t,o){"use strict";var i;o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=[]}},[["21ea","common/runtime","common/vendor"]]]);