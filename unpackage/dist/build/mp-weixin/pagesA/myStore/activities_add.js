(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/myStore/activities_add"],{2851:function(t,i,a){"use strict";a.r(i);var n=a("e3d3"),e=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);i["default"]=e.a},6156:function(t,i,a){"use strict";var n;a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return n}));var e=function(){var t=this,i=t.$createElement;t._self._c},s=[]},6904:function(t,i,a){},"78ef":function(t,i,a){"use strict";a.r(i);var n=a("6156"),e=a("2851");for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);a("f0a1");var c,o=a("f0c5"),r=Object(o["a"])(e["default"],n["b"],n["c"],!1,null,"0bf8dd7e",null,!1,n["a"],c);i["default"]=r.exports},"857c":function(t,i,a){"use strict";(function(t){a("1fd4");n(a("66fd"));var i=n(a("78ef"));function n(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,a("543d")["createPage"])},e3d3:function(t,i,a){"use strict";(function(t){function n(t){return o(t)||c(t)||s(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,i){if(t){if("string"===typeof t)return r(t,i);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,i):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function o(t){if(Array.isArray(t))return r(t)}function r(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,n=new Array(i);a<i;a++)n[a]=t[a];return n}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function(){a.e("pagesA/myStore/components/product-select").then(function(){return resolve(a("70c2"))}.bind(null,a)).catch(a.oe)},d={data:function(){return{title:"添加活动商品",id:"",list:[],classList:[],classList1:[],brandList:[],cid:"",cid1:"",cid2:"",brand_id:"",product_title:"",down:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/down.png",xuanzehui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",xuanzehei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehei2x.png",classFlag:!1,classFlag1:!1,brandFlag:!1,proFlag:!1,qxFlag:!1,page:1,loadingType:0,btn_name:"活动设置",type:"",platform_activities_id:"",list1:[],brand_class_list:[]}},components:{productSelect:l},onLoad:function(t){var i=this;this.id=t.id,this.platform_activities_id=t.platform_activities_id,this.type=t.type,this.isLogin((function(){i.list=[],i.loadingType=0,i.page=1,i.qxFlag=!1,i.axios()}))},onShow:function(){"pt"==this.type?this.btn_name=this.language.activities_add.btn_name_pt:"ms"==this.type?this.btn_name=this.language.activities_add.btn_name_ms:this.btn_name=this.language.activities_add.btn_name},onReachBottom:function(){0==this.loadingType&&(this.loadingType=1,this.page++,this.axios())},computed:{checkNum:function(){var t=0;return this.list.filter((function(i){i.checkMe&&t++})),t},checkList:function(){var t=[];return this.list.filter((function(i){i.checkMe&&(i.act_price=parseInt(.8*Number(i.price)),i.act_num=parseInt(.1*Number(i.num)),i.act_num<1&&(i.act_num=1),t.push(i))})),t}},watch:{classFlag:function(t){t&&(this.classFlag1=!1,this.brandFlag=!1,this.proFlag=!1)},classFlag1:function(t){t&&(this.classFlag=!1,this.brandFlag=!1,this.proFlag=!1)},brandFlag:function(t){t&&(this.classFlag1=!1,this.classFlag=!1,this.proFlag=!1)},proFlag:function(t){t&&(this.classFlag1=!1,this.brandFlag=!1,this.classFlag=!1)}},methods:{changeLoginStatus:function(){this.list=[],this.loadingType=0,this.page=1,this.qxFlag=!1,this.axios()},toAdd:function(){0!=this.checkNum?(t.setStorageSync("checkProList",this.checkList),t.navigateTo({url:"/pagesA/myStore/activities_set?id="+this.id+"&type="+this.type+"&platform_activities_id="+this.platform_activities_id})):t.showToast({title:this.language.activities_add.pleaseChoose,icon:"none"})},queding:function(){this.proFlag=!1,this.list=[],this.loadingType=0,this.page=1,this.qxFlag=!1,this.axios()},quxiao:function(){this.proFlag=!1,this.product_title=""},changeBrand:function(t){t.checkMe=!t.checkMe,t.checkMe?(this.brandList.filter((function(i){t.brand_id!=i.brand_id&&(i.checkMe=!1)})),this.brand_id=t.brand_id):this.brand_id=""},query:function(t){this.cid=t.cid,this.brand_id=t.brand_id,this.product_title=t.product_title,this.list=[],this.loadingType=0,this.page=1,this.qxFlag=!1,this.axios()},checkChange:function(t){var i=this;if(t){t.checkMe=!t.checkMe;var a=!0;this.list.filter((function(t){t.checkMe||(a=!1)})),this.qxFlag=a}else this.qxFlag=!this.qxFlag,this.list.filter((function(t){t.checkMe=i.qxFlag}))},closeBg:function(){this.classFlag=!1,this.classFlag1=!1,this.brandFlag=!1,this.proFlag=!1},axios:function(){var i=this,a={module:"app",action:"platform_activities",m:"listdetail",activityType:this.type,platform_activities_id:this.platform_activities_id,mch_id:this.$store.state.shop_id?this.$store.state.shop_id:t.getStorageSync("shop_id"),page:this.page,cid:this.cid,brand_id:this.brand_id,product_title:this.product_title};this.$req.post({data:a}).then((function(a){var e=a.code,s=a.pro,c=a.message,o=a.attr,r=a.brand_class_list;if(200==e){var l;if(i.classList=o,o.unshift({cid:"",pname:i.language.activities_add.classify,res:[]}),i.list1=o,r.unshift({brand_id:"",brand_name:i.language.activities_add.brand}),i.brand_class_list=r,s.length>0)s.filter((function(t){t.checkMe=!1})),(l=i.list).push.apply(l,n(s)),i.qxFlag=!1;s.length>9?i.loadingType=0:i.loadingType=2}else t.showToast({title:c,icon:"none"})}))}}};i.default=d}).call(this,a("543d")["default"])},f0a1:function(t,i,a){"use strict";var n=a("6904"),e=a.n(n);e.a}},[["857c","common/runtime","common/vendor"]]]);