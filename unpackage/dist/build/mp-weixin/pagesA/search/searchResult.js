(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/search/searchResult"],{"0135":function(t,i,e){},"55dd":function(t,i,e){"use strict";var a=e("0135"),n=e.n(a);n.a},"766d":function(t,i,e){"use strict";e.r(i);var a=e("a40e"),n=e("bfcb");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("55dd");var s,r=e("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"5d36c883",null,!1,a["a"],s);i["default"]=c.exports},"7dad":function(t,i,e){"use strict";(function(t){e("1fd4");a(e("66fd"));var i=a(e("766d"));function a(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("543d")["createPage"])},a40e:function(t,i,e){"use strict";var a;e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}));var n=function(){var t=this,i=t.$createElement;t._self._c},o=[]},bfcb:function(t,i,e){"use strict";e.r(i);var a=e("e2a2"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},e2a2:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("2f62");function n(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function o(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?n(Object(e),!0).forEach((function(i){s(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function s(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function r(t){return u(t)||p(t)||h(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,i){if(t){if("string"===typeof t)return d(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,i):void 0}}function p(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return d(t)}function d(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,a=new Array(i);e<i;e++)a[e]=t[e];return a}var l=function(){e.e("components/skus").then(function(){return resolve(e("6910"))}.bind(null,e)).catch(e.oe)},_=function(){e.e("components/header").then(function(){return resolve(e("3ba9"))}.bind(null,e)).catch(e.oe)},m=function(){e.e("components/uni-load-more").then(function(){return resolve(e("af42"))}.bind(null,e)).catch(e.oe)},g={data:function(){return{title:"搜索结果",back_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",empic_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/spnull2x.png",serchimg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/searchNew.png",shoppingImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/allgoods_shopImg.png",filter:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/filter.png",filter_h:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/filter_h.png",sortingBottom:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sortingBottom.png",sortingBottomh:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sortingBottomh.png",sortingTop:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sortingTop.png",sortingToph:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sortingToph.png",jiantouBottom:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/jiantouBottom.png",jiantouTop:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/jiantouTop.png",no_search:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/no_search.png",host:"",searchtxt:"",storag:"",prompt:"",searchgoods:"",success:!0,s_type:"",page:1,allLoaded:!1,autoFill:!1,bottomStatus:"",bottomPullText:"上拉加载更多...",bottomDropText:"释放更新...",loading:!1,topTabBar:0,placeStyle:"color:#999999",loadingType:0,mask_display1:!1,attribute_id:"",attrList:"",skuBeanList:"",num:"",price:"",imgurl:"",haveSkuBean:"",shopping_id:"",closeImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/guanbi2x.png",jian_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jianhui2x.png",jian_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jian2x.png",jia_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jia+2x.png",jia_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/add+2x.png",fastTap:!0,proid:"",numb:1,highKeys:{},skuName:"SkuID",skuName1:"Price",skuName2:"Pic",skuName3:"Stock",spliter:",",list:{},result:{},searchType:"",filterMaskFlag:!1,pinpaiFlag:!1,sorting:"asc",brand_list:[],brand_id:"",min_price:"",max_price:"",brand_id1:"",min_price1:"",max_price1:""}},onReachBottom:function(){var i=this;if(0==this.loadingType){this.loadingType=1,this.page++;var e={brand_id:this.brand_id1,min_price:this.min_price1,max_price:this.max_price1},a={module:"app",action:"search",app:"search",num:this.page,type:this.topTabBar,keyword:this.searchtxt,sort_criteria:this.searchType,query_criteria:JSON.stringify(e)};"volume"!=this.searchType&&"price"!=this.searchType||(a.sort=this.sorting),this.$req.post({data:a}).then((function(e){var a=e.code,n=e.message;if(200==a){var o,s=e.data.list;0==i.topTabBar&&s.filter((function(t){t.vip_price=Number(t.vip_price).toFixed(2),t.vip_yprice=Number(t.vip_yprice).toFixed(2)})),(o=i.searchgoods).push.apply(o,r(s)),s.length>9?i.loadingType=0:i.loadingType=2}else i.loadingType=0,t.showToast({title:n,duration:1500,icon:"none"})}))}},onLoad:function(t){var i=this;this.searchtxt=t.searchtxt,this.topTabBar=parseInt(t.topTabBar),this.s_type=this.$store.state.type,this.$nextTick((function(){i._axios()}))},components:{heads:_,uniLoadMore:m,skus:l},computed:{halfWidth:function(){var i=t.getStorageSync("data_height")?t.getStorageSync("data_height"):this.$store.state.data_height,e=parseInt(i);return e=0,e+"px"}},methods:o({changeBrand:function(t){this.brand_id=t.brand_id},removeMask:function(){this.filterMaskFlag=!1,this.min_price=this.min_price1,this.max_price=this.max_price1,this.brand_id=this.brand_id1},reset:function(){this.min_price="",this.max_price="",this.brand_id=""},filterOk:function(){this.min_price1=this.min_price,this.max_price1=this.max_price,this.brand_id1=this.brand_id,this.page=1,this._axios(),this.filterMaskFlag=!1},shaixuanClick:function(){this.filterMaskFlag=!this.filterMaskFlag,this.filterMaskFlag||(this.min_price=this.min_price1,this.max_price=this.max_price1,this.brand_id=this.brand_id1)},pinpaiClick:function(){this.pinpaiFlag=!this.pinpaiFlag},clickType:function(t){"volume"!=t&&"price"!=t||this.searchType!=t?this.sorting="asc":this.sorting="asc"==this.sorting?"desc":"asc",this.searchType=t,this.page=1,this._axios()},_searchB:function(){this.page=1,t.pageScrollTo({duration:0,scrollTop:0}),this._axios()},_shopping:function(i){var e=this,a=this;if(this.haveSkuBean){var n={module:"app",action:"product",app:"add_cart",pro_id:this.proid,attribute_id:this.haveSkuBean.cid,num:this.numb,type:"addcart",access_id:this.$store.state.access_id};t.request({data:n,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(i){var n=i.data,o=n.code,s=n.data;n.message;200==o?(t.showToast({title:e.language.search2.searchRes.Tips[4],duration:1e3,icon:"none"}),a.access_id=s.access_id,a.$store.state.access_id=s.access_id,e.fastTap=!0,a.haveSkuBean="",a.$refs.attrModal._mask_f()):e.fastTap=!0},error:function(t){this.fastTap=!0}})}else this._mask_display(),this.fastTap=!0},_confirm:function(t){Object.assign(this.$data,t),this._confirm1()},_confirm1:function(){this.fastTap&&(this.fastTap=!1,Boolean(this.haveSkuBean)?0==this.num?(t.showToast({title:this.language.search2.searchRes.Tips[5],duration:1e3,icon:"none"}),this.fastTap=!0):0!=this.num&&this._shopping():0==this.num?(t.showToast({title:this.language.search2.searchRes.Tips[5],duration:1e3,icon:"none"}),this.fastTap=!0):(t.showToast({title:this.language.search2.searchRes.Tips[6],duration:1e3,icon:"none"}),this.fastTap=!0))},shopping_j:function(i){var e=this;if(this.fastTap){this.fastTap=!1,this.proid=i;var a={module:"app",action:"product",app:"index",pro_id:i};t.request({data:a,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){e.fastTap=!0;var i=t.data.data,a=(i.collection_id,i.pro),n=(i.comments,i.attrList),o=(i.skuBeanList,i.attribute_list),s=i.qj_price,r=i.type;e.ys_price=s,e.attrList=n,e.$refs.attrModal.imgurl=a.img_arr[0],e.$refs.attrModal.num=a.num,e.$refs.attrModal.price=s,e.$refs.attrModal.skuBeanList=o,e.$refs.attrModal.initData(),e.$refs.attrModal._mask_display(),e.collection=r},error:function(t){e.fastTap=!0}})}},handleinput:function(){t.hideKeyboard(),t.navigateBack({delta:1})},_goBack:function(){t.navigateBack({delta:2})},_home:function(){t.switchTab({url:"../../pages/tabBar/home"})},_axios:function(){var i=this;1==this.page&&t.pageScrollTo({duration:0,scrollTop:0});var e=this,a={brand_id:this.brand_id1,min_price:this.min_price1,max_price:this.max_price1},n={module:"app",action:"search",app:"search",num:this.page,type:this.topTabBar,keyword:this.searchtxt,sort_criteria:this.searchType,query_criteria:JSON.stringify(a)};"volume"!=this.searchType&&"price"!=this.searchType||(n.sort=this.sorting),""!=this.searchtxt&&this.$req.post({data:n}).then((function(a){if(200==a.code){0==i.brand_list.length&&(i.brand_list=a.data.brand_class_list);var n=a.data.list;n.length?(0==i.topTabBar&&n.filter((function(t){t.vip_price=Number(t.vip_price).toFixed(2),t.vip_yprice=Number(t.vip_yprice).toFixed(2)})),e.searchgoods=n,e.success=!0,e.searchgoods.length<10?e.allLoaded=!0:e.allLoaded=!1,n.length>9?e.loadingType=0:e.loadingType=2):(e.searchgoods="未找到相关宝贝",e.success=!1)}else e.success=!1,t.showToast({title:a.message,duration:1500,icon:"none"})}))},_search:function(t){this.searchgoods="",this.topTabBar=t,this.success=!0,this.page=1,this._axios()},_goStore:function(i){t.navigateTo({url:"../../pagesA/store/store?shop_id="+i})},loadBottom:function(){var i=this,e={module:"app",action:"search",app:"search",page:this.page};this.searchgoods.length>0&&t.request({data:e,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){if(200==e.data.code){var a=e.data.data;i.page+=1,a.length<10&&a.length>0?i.searchgoods=i.searchgoods.concat(a):(i.allLoaded=!0,i.loading=!0),i.$refs.loadmore.onBottomLoaded()}else t.showToast({title:e.data.message,duration:1500,icon:"none"})},error:function(t){}})},handleBottomChange:function(t){this.bottomStatus=t},_goods:function(i){this.pro_id(i),t.navigateTo({url:"/pages/goods/goodsDetailed?toback=true&pro_id="+i})}},(0,a.mapMutations)({pro_id:"SET_PRO_ID",type:"SET_TYPE",scroll_t:"SET_SCROLL_T"})),beforeDestroy:function(){this.type("")},updated:function(){this.$nextTick((function(){this.$store.state.scroll_t}))}};i.default=g}).call(this,e("543d")["default"])}},[["7dad","common/runtime","common/vendor"]]]);