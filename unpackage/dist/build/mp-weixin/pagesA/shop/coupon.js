(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/shop/coupon"],{"20f7":function(n,o,t){"use strict";var i;t.d(o,"b",(function(){return e})),t.d(o,"c",(function(){return a})),t.d(o,"a",(function(){return i}));var e=function(){var n=this,o=n.$createElement;n._self._c},a=[]},"727c":function(n,o,t){"use strict";t.r(o);var i=t("20f7"),e=t("79a8");for(var a in e)"default"!==a&&function(n){t.d(o,n,(function(){return e[n]}))}(a);t("e4d5");var u,s=t("f0c5"),r=Object(s["a"])(e["default"],i["b"],i["c"],!1,null,"f23d0d0a",null,!1,i["a"],u);o["default"]=r.exports},"79a8":function(n,o,t){"use strict";t.r(o);var i=t("c67e"),e=t.n(i);for(var a in i)"default"!==a&&function(n){t.d(o,n,(function(){return i[n]}))}(a);o["default"]=e.a},b78b:function(n,o,t){"use strict";(function(n){t("1fd4");i(t("66fd"));var o=i(t("727c"));function i(n){return n&&n.__esModule?n:{default:n}}n(o.default)}).call(this,t("543d")["createPage"])},c67e:function(n,o,t){"use strict";(function(n){function t(n){return u(n)||a(n)||e(n)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(n,o){if(n){if("string"===typeof n)return s(n,o);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(n,o):void 0}}function a(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}function u(n){if(Array.isArray(n))return s(n)}function s(n,o){(null==o||o>n.length)&&(o=n.length);for(var t=0,i=new Array(o);t<o;t++)i[t]=n[t];return i}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r={data:function(){return{returnR:"",back:"",title:"领券中心",load:!1,list:!1,receive_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/lingqu2x.png",noreceive_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/qiangguang2x.png",back_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",huiquan_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/huiquan2x.png",coupon_on:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/coupon/coupon_on.png",coupon_no:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/coupon_no.png",coupon_bg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/coupon_bg.png",coupon_bg1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/coupon_bg1.png",fastTap:!0,frompage:"",noCoupon:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/noCoupon.png",loopStatu:!0,isNone:[],type:1,page:1,loadingType:0}},onReachBottom:function(){0==this.loadingType&&(this.loadingType=1,this.page++,this._axios())},onLoad:function(n){n.loop&&(this.loopStatu=!1)},onShow:function(){var n=this;this.$nextTick((function(){n.list||(n.load=!1),n.page=1,n._axios()}))},methods:{changeTab:function(n){this.type=n,this.page=1,this._axios()},changeLoginStatus:function(){this.page=1,this._axios()},_mycoupon:function(){this.isLogin((function(){n.navigateTo({url:"/pagesB/coupon/mycoupon?loop=false"})}))},_axios:function(){var n=this,o={module:"app",action:"coupon",app:"index",page:this.page,type:this.type};this.$req.post({data:o}).then((function(o){var i,e=o.list;if(1==n.page&&(n.list=[],n.isNone=[]),e.filter((function(n){n.limit=n.limit.replace("满","满￥")})),(i=n.list).push.apply(i,t(e)),n.fastTap=!0,e&&e.length){for(var a,u=[],s=0;s<e.length;s++)u.push(!1),"已抢光"===e[s].point&&(u[s]=!0);(a=n.isNone).push.apply(a,u)}n.load=!0,e&&e.length>0?n.loadingType=0:n.loadingType=2}))},_receive:function(o,t,i,e){var a=this;if("立即领取"===i){if(!this.fastTap)return;if(this.fastTap=!1,!this.access_id)return n.showToast({title:this.language.shop.coupon.Tips[1],icon:"none",duration:1500}),void setTimeout((function(){n.navigateTo({url:"/pages/login/login?landing_code=coupon"})}),1500);var u={module:"app",action:"coupon",app:"receive",id:t};this.$req.post({data:u}).then((function(o){var t=o.code;200===t?(n.showToast({title:a.language.shop.coupon.Tips[0],duration:1500,icon:"none"}),setTimeout((function(){a.page=1,a._axios()}),1500)):404===t?(n.showToast({title:o.message,duration:1500,icon:"none"}),setTimeout((function(){n.navigateTo({url:"/pages/login/login?landing_code=coupon"})}),1500)):(n.showToast({title:o.message,duration:1500,icon:"none"}),setTimeout((function(){a._axios()}),1500))}))}else if("去使用"===i){if(!this.fastTap)return;this.fastTap=!1,e||(e="/pages/tabBar/home"),2==this.type?n.navigateTo({url:"/pagesA/store/store?shop_id="+this.list[o].mch_id}):e.indexOf("tabBar")>0?n.switchTab({url:e}):n.navigateTo({url:e})}}}};o.default=r}).call(this,t("543d")["default"])},df2c:function(n,o,t){},e4d5:function(n,o,t){"use strict";var i=t("df2c"),e=t.n(i);e.a}},[["b78b","common/runtime","common/vendor"]]]);