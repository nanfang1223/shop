(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/shop/sign"],{"23a5":function(t,n,i){},"4bc6":function(t,n,i){"use strict";var e;i.d(n,"b",(function(){return s})),i.d(n,"c",(function(){return a})),i.d(n,"a",(function(){return e}));var s=function(){var t=this,n=t.$createElement;t._self._c},a=[]},"7bed":function(t,n,i){"use strict";i.r(n);var e=i("4bc6"),s=i("7bf5");for(var a in s)"default"!==a&&function(t){i.d(n,t,(function(){return s[t]}))}(a);i("f193");var o,c=i("f0c5"),r=Object(c["a"])(s["default"],e["b"],e["c"],!1,null,"62b3d928",null,!1,e["a"],o);n["default"]=r.exports},"7bf5":function(t,n,i){"use strict";i.r(n);var e=i("ebdc"),s=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=s.a},"7c3d":function(t,n,i){"use strict";(function(t){i("1fd4");e(i("66fd"));var n=e(i("7bed"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,i("543d")["createPage"])},ebdc:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=s(i("c612"));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){Promise.all([i.e("common/vendor"),i.e("components/mpvue-wxparse/src/wxParse")]).then(function(){return resolve(i("e345"))}.bind(null,i)).catch(i.oe)},o={data:function(){return{details:"",title:"每日签到",sign7:[1,2,3,4,5,6,7],signData:[],sign_right:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sign_right.png",sign_rule:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sign_rule.png",sign_suc:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sign_suc.png",sign_core:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sign_core.png",sign_gift:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sign_gift.png",back2x:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",bback:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/bback.png",flag:!0,guanbi:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/guanbi2x.png",chengg:t.getStorageSync("endurl")+"images/icon/qiandaochengg2x.png",report_t:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/qiandao2x.png",report_f:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yiqiandao.png",loadGif:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/loading.gif",sign_bg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sign_bg.png",dat:new Date,dat1:"",dat2:"",time:{year:"",month:"",day:""},load:!0,data_day:"",daySign:"",num:"",showFliter:!1,sign_score:"",score:"",sign_status:"",showSign:[],sign_num:"",complete_report:!1,active:"点击签到",lose:"今日已签",ss:1,sign_status1:!0,signFinish:!0,imgurl:"",returnR:"",surplus_sign_num:"",distance_next_h:"",distance_next_m:"",distance_next_s:"",distance_next_time:"",is_many_time:"",score_num:""}},onLoad:function(t){this.time.year=this.dat.getFullYear(),this.time.month=this.dat.getMonth()+1,this.time.day=this.dat.getDate(),this.dat1=new Date(2020,this.time.month-1,1).getDay(),this.dat2=new Date(2020,this.time.month,0).getDate()},onShow:function(){this.signFinish=!0,this._axios()},computed:{today:function(t){return this.timeDay==t+1&&this.timeMonth==this.datMonth+1},timeDay:function(t){return this.time.day==t+1},timeMonth:function(){return this.time.month},datMonth:function(){return this.dat.getMonth()},signTextTop:function(){}},methods:{toScore:function(){var n=getCurrentPages();2==n.length&&"pages/tabBar/home"==n[0].route||3==n.length&&"pages/tabBar/home"==n[0].route&&"pages/tabBar/home"==n[1].route?t.navigateTo({url:"/pages/my/myScore"}):t.navigateBack({delta:1})},changeLoginStatus:function(){this._axios()},in_array:function(t,n){for(var i=0;i<n.length;i++){var e=n[i].toString();if(e==t)return!0}return!1},_back:function(){this.flag=!1,t.navigateBack({delta:1})},_complete_report:function(){this.complete_report=!0},_oncomplete_report:function(){this.complete_report=!1},getremainTime:function(){var t=this,n=this.distance_next_time;if(!(!n&&0!==n||n<0)){this.distance_next_h=parseInt(n/3600);var i=n%3600;this.distance_next_m=parseInt(i/60),this.distance_next_s=i%60,this.distance_next_h<10&&(this.distance_next_h="0"+this.distance_next_h),this.distance_next_m<10&&(this.distance_next_m="0"+this.distance_next_m),this.distance_next_s<10&&(this.distance_next_s="0"+this.distance_next_s),setTimeout((function(){t.distance_next_time--,t.getremainTime()}),1e3)}},_sign:function(){var n=this;0!=this.sign_status&&this.signFinish&&(this.signFinish=!1,this.isLogin((function(){if(1==n.sign_status){var i={module:"app",action:"sign",app:"index"};n.$req.post({data:i}).then((function(i){i.score;var e=i.sign_score,s=i.num,a=i.distance_next_time,o=i.surplus_sign_num;200==i.code?(n.showFliter=!0,n.sign_score=e,n.num=s,n.surplus_sign_num=o,n.distance_next_time=Number(a),n.getremainTime()):404==i.code?(t.showToast({title:i.message,duration:1500,icon:"none"}),setTimeout((function(){t.navigateTo({url:"/pages/login/login?landing_code=1"})}),1500)):(n.signFinish=!0,t.showToast({title:i.message,duration:1500,icon:"none"}))})).catch((function(t){n.signFinish=!0}))}})))},_close:function(){this.showFliter=!1,this._axios()},_axios:function(){var n=this;this.signData=[];var i={module:"app",action:"sign",app:"sign",year:this.time.year,month:this.time.month};this.$req.post({data:i}).then((function(i){if(200==i.code){setTimeout((function(){n.load=!1}),200);var s=i.score,a=i.sign_status,o=i.num,c=i.sign_time,r=i.imgurl,u=i.details,_=i.is_many_time,g=i.score_num;n.is_many_time=_,n.score_num=g,n.sign_status=a,0==a&&(n.sign_status1=!1),n.score=s,n.num=o,n.sign_num=c,n.imgurl=r,n.details=(0,e.default)(u);var m=[],h=new Date(2020,n.time.month,0).getDate();if(c.length>0){for(var d=0;d<h;d++){var f="2020-".concat(n.dat.getMonth()+1,"-").concat(d+1);m.push(f);for(var l=0;l<c.length;l++)f==c[l]&&n.showSign.push(c[l])}n.data_day=m}else{for(d=0;d<h;d++){f="2020-".concat(n.dat.getMonth()+1,"-").concat(d+1);m.push(f)}n.showSign=[],n.data_day=m}for(d=0;d<h;d++)n.in_array(n.data_day[d],n.showSign)?n.signData.push(!0):n.signData.push(!1)}else t.showToast({title:i.message,duration:1500,icon:"none"})}))}},components:{wxParse:a}};n.default=o}).call(this,i("543d")["default"])},f193:function(t,n,i){"use strict";var e=i("23a5"),s=i.n(e);s.a}},[["7c3d","common/runtime","common/vendor"]]]);