(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/vip/vip"],{"2ca6":function(e,a,t){},4304:function(e,a,t){"use strict";(function(e){t("1fd4");i(t("66fd"));var a=i(t("f607"));function i(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("543d")["createPage"])},"739e":function(e,a,t){"use strict";var i;t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return o})),t.d(a,"a",(function(){return i}));var n=function(){var e=this,a=e.$createElement,t=(e._self._c,e.isshow(1));e.$mp.data=Object.assign({},{$root:{m0:t}})},o=[]},9232:function(e,a,t){"use strict";var i=t("2ca6"),n=t.n(i);n.a},"92e4":function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=function(){t.e("components/header").then(function(){return resolve(t("3ba9"))}.bind(null,t)).catch(t.oe)},n=function(){t.e("components/ruleModal").then(function(){return resolve(t("35f7"))}.bind(null,t)).catch(t.oe)},o=function(){Promise.all([t.e("common/vendor"),t.e("components/mpvue-wxparse/src/wxParse")]).then(function(){return resolve(t("e345"))}.bind(null,t)).catch(t.oe)},s=function(){t.e("components/paymodel").then(function(){return resolve(t("9d0c"))}.bind(null,t)).catch(t.oe)},r={data:function(){return{returnR:7,fromVip:1,payment:"",access_id:"",flag:1,swiperList:[],dotStyle:!1,modalName:null,autoplay:!0,radio:"month",pay:"yue",swiper_dots:!0,title:"豪眼光会员",payable:0,code:"",level_id:0,pay_display:!1,password_status:"",password_display:!1,rule:"",focus:!1,isfocus:!0,digits:["","","","","",""],msg:"",msgLength:0,isPassWord:0,isWallet:0,wxpay_icon:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/vip/wechat.png",alipay_icon:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/vip/alipay.png",bdpay_icon:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/baiduzhifu2x.png",yue_icon:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/vip/yue.png",close2ximg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/close2x.png",isfx:0,is_open:"",grade:"",_confirmFlag:!1,isShow:!1,vipRights:[[{name:"全场9.0折",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"快速退货",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"专属活动",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"快速退货",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"专属活动",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"}],[{name:"全场8.0折",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"快速退货",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"专属活动",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"快速退货",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"专属活动",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"}],[{name:"全场7.0折",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"快速退货",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"专属活动",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"快速退货",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:"专属活动",image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"}]]}},components:{Heads:i,wxParse:o,ruleModal:n,paymodel:s},computed:{swiHeight:function(){var e="";return e}},onLoad:function(a){if(a.toBack&&(this.returnR=0),a.data){var t=JSON.parse(a.data);e.setStorageSync("isfx",t.isfx),e.setStorageSync("tui_id",t.tui_id)}},onShow:function(){var a=this;e.getStorageSync("edit_flag")&&(this.flag=e.getStorageSync("edit_flag"),this.grade=e.getStorageSync("edit_grade")),e.getStorageSync("isfx")&&(this.isfx=e.getStorageSync("isfx")),this.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):this.$store.state.access_id,a.LaiKeTuiCommon.getUrlFirst().then((function(e){a._axios()})),this.pay_display=!1},onUnload:function(){e.removeStorageSync("isfx"),e.removeStorage("tui_id")},watch:{msg:function(e){this.msgLength=e.length}},methods:{changeLoginStatus:function(){this._axios()},onblur:function(){var e=this;setTimeout((function(){e._cancel()}),500)},isshow:function(e){var a=this;return 1==e&&(1==a.payment.mini_wechat||(a.pay="wechat",!1))},showModal:function(a){var t=this,i=t.LaiKeTuiCommon.ttIOSCantVisualpay();i&&(1!=this.is_open||1!=this.isfx?this.isLogin((function(){"1"!=t.isWallet&&(t.pay="wechat"),t.modalName=a.currentTarget.dataset.target,t.autoplay=!1,t.swiper_dots=!1})):e.showToast({icon:"none",title:this.language.vip2.Tips[3]}))},hideModal:function(e){this.modalName=null,this.autoplay=this.swiper_dots=!0},RadioChange:function(e){this.radio=e.detail.value,this.payable=e.currentTarget.dataset.target},selectPayAble:function(e){this.payable=e.currentTarget.dataset.target},swipeChange:function(e){var a=e.detail.current,t=this.radio,i=this;switch(t){case"month":i.payable=i.swiperList[a].money,i.level_id=i.swiperList[a].id;break;case"season":i.payable=i.swiperList[a].money_j,i.level_id=i.swiperList[a].id;break;case"year":i.payable=i.swiperList[a].money_n,i.level_id=i.swiperList[a].id;break;default:i.payable="";break}},PayRadioChange:function(e){this.pay=e.detail.value},_payFail:function(){var a=this;return e.showToast({title:this.language.vip2.Tips[4],duration:1e3,icon:"none"}),a.pay_display=!1,a.modalName=null,!1},toUrl:function(){var e=this,a=window.location.href,t={type:"jsapi_wechat",app:"get_config",module:"app",action:"order",url:a};this.$req.post({data:t}).then((function(a){if(200==a.code){var t=a.data.config.appid;e.myappid=t;var i=a.data.url,n="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t+"&redirect_uri="+i+"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect";window.location.href=n}}))},_axios:function(){var a=this,t={module:"app",action:"recharge",app:"upgrade",store_type:1};this.isfx&&(this.flag=1),3==this.flag?t.app="upgrade":t.app="grade",this.$req.post({data:t}).then((function(t){if(404==t.code)a.access_id1=!1;else if(200==t.code){if(a.swiperList=t.data,a.swiperList)for(var i in a.swiperList)i<=a.swiperList.length-1&&(a.vipRights[i]?(a.swiperList[i].rate=Number(a.swiperList[i].rate).toFixed(1),a.vipRights[i][0]["name"]=a.language.vip.vipRights[0]+a.swiperList[i].rate+a.language.vip.vipRights[1],a.vipRights[i][1]["name"]=a.language.vip.vipRights[2],a.vipRights[i][2]["name"]=a.language.vip.vipRights[3],a.vipRights[i][3]["name"]=a.language.vip.vipRights[4],a.vipRights[i][4]["name"]=a.language.vip.vipRights[5]):a.vipRights.push([{name:a.language.vip.vipRights[0]+Number(a.swiperList[i].rate).toFixed(1)+a.language.vip.vipRights[1],image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:a.language.vip.vipRights[2],image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:a.language.vip.vipRights[3],image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:a.language.vip.vipRights[4],image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"},{name:a.language.vip.vipRights[5],image:e.getStorageSync("endurl")+"images/image_1/156404126821.png"}]));if(a.isPassWord=t.is_password,a.isWallet=t.is_wallet,a.rule=t.rule,a.is_open=t.is_open,a.payment=t.payment,0==a.level_id){if(2!=a.flag)return a.level_id=a.swiperList[0].id,void(a.payable=a.swiperList[0].money);a.level_id=t.grade_id;for(var n=0;n<a.swiperList.length;n++)a.level_id==a.swiperList[n].id&&(a.payable=a.swiperList[n].money)}}}))},getOrder:function(){var a=this,t=0,i="";"yue"==a.pay?1==a.isPassWord?(a.pay_display=!0,a.modalName=null,i="wallet_pay"):(a.modalName=null,a.password_display=!0):"alipay"==a.pay?i="aliPay":"wechat"==a.pay?i="mini_wechat":a.pay,"month"==a.radio?t=1:"season"==a.radio?t=2:"year"==a.radio&&(t=3);var n={access_id:a.access_id,module:"app",action:"recharge",app:"grade_order",id:a.level_id,type:i,method:t,total:a.payable,flag:a.flag};1==a.flag&&e.getStorageSync("tui_id")&&(n.tui_id=e.getStorageSync("tui_id")),"wallet_pay"!=i&&e.request({data:n,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){if(a.sNo=t.data.sNo,a.title=t.data.title,a.total=t.data.total,a.order_list=JSON.stringify(t.data.order_list),"mini_wechat"==i)a.pay_name=t.data.pay_type,a.laikepay.weixin_minipay(a);else{if("alipay_minipay"==i){var o={access_id:a.access_id,sNo:a.sNo,title:a.title,module:"app",action:"pay",type:"alipay_minipay",total:a.total,store_type:1},s=a.LaiKeTuiCommon.getMPAliAuthCode();return s.then((function(t){return t&&(o.alimp_authcode=t),new Promise((function(t){e.request({url:e.getStorageSync("url"),data:o,success:function(a){200==a.statusCode||e.showToast({title:a.data.message,duration:1500,icon:"none"})},fail:function(e){var t=e.data;a.laikepay.alipay_minipay(a,t.substr(t.indexOf("s")+1,t.length-4))}})}))}))}if("app_wechat"==i)a.pay_name=t.data.pay_type,n={access_id:a.access_id,title:a.title,module:"app",action:"pay",type:"app_wechat",total:a.total,sNo:a.sNo,order_list:a.order_list},e.request({data:n,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){a.sNo=e.data.sNo,a.title=e.data.title,a.laikepay.app_pay(a,"wxpay",e)},error:function(e){}});else if("jsapi_wechat"==i){a.pay_name=t.data.pay_type;var r={access_id:a.access_id,title:a.title,module:"app",action:"pay",type:"jsapi_wechat",total:a.total,sNo:a.sNo,code:a.code};e.request({data:r,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){a.sNo=e.data.sNo,a.title=e.data.title,a.laikepay.weixin_jsapipay(a,"wx",e)},error:function(e){}})}else if("aliPay"==i){a.pay_name=t.data.pay_type;var l={access_id:a.access_id,title:a.title,module:"app",action:"pay",type:"aliPay",total:a.total,sNo:a.sNo,order_list:a.order_list};e.request({data:l,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){a.sNo=e.data.sNo,a.title=e.data.title,a.laikepay.app_pay(a,"alipay",e)},error:function(e){}})}else{if("tt_alipay"==i){var c={access_id:a.access_id,title:a.title,module:"app",action:"pay",type:"tt_alipay",total:a.total,sNo:a.sNo,order_list:a.order_list},p=a.LaiKeTuiCommon.getMPAliAuthCode();return p.then((function(t){return new Promise((function(t,i){e.request({url:e.getStorageSync("url"),data:c,header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){a.laikepay.tt_pay(a,e)},error:function(e){},fail:function(e){}})}))}))}if("baidu_pay"==i){a.pay_name=t.data.pay_type;var g={access_id:a.access_id,title:a.title,module:"app",action:"pay",type:"baidu_pay",total:a.total,sNo:a.sNo,order_list:a.order_list};e.request({data:g,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){a.sNo=e.data.sNo,a.title=e.data.title,a.hideModal(),a.laikepay.baidu_pay(a,e)},error:function(e){}})}}}},error:function(e){}})},_password_status:function(){e.navigateTo({url:"../../pagesB/setUp/payment"}),this.password_display=!1},focust:function(){this.focus=!0},_cancel:function(){var e=this;e.pay_display=!1,e.msg="",e._confirmFlag=!1},_confirm:function(){var a=this;if(!this._confirmFlag){this._confirmFlag=!0;var t=this,i=0,n="wallet_pay";if("month"==t.radio?i=1:"season"==t.radio?i=2:"year"==t.radio&&(i=3),6==this.msg.length){var o={access_id:t.access_id,module:"app",action:"recharge",app:"grade_order",id:t.level_id,type:n,method:i,total:t.payable,password:t.msg,flag:t.flag};1==t.flag&&e.getStorageSync("tui_id")&&(o.tui_id=e.getStorageSync("tui_id")),e.request({data:o,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(i){109==i.data.code?(e.showToast({title:i.data.msg,duration:1e3,icon:"none"}),t._confirmFlag=!1):200==i.data.code&&(e.removeStorage("tui_id"),e.showToast({title:a.language.vip2.Tips[5],duration:2e3,icon:"none"}),setTimeout((function(){e.navigateTo({url:"../../pagesA/vipClub/vipClub"})}),2e3))},error:function(e){t._confirmFlag=!1}})}else t._confirmFlag=!1,e.showToast({title:this.language.vip2.Tips[6],duration:1e3,icon:"none"})}},confirm:function(e){this.msg=e,this._confirm()},_toGradeUse:function(){this.isShow=!this.isShow}}};a.default=r}).call(this,t("543d")["default"])},ec4d:function(e,a,t){"use strict";t.r(a);var i=t("92e4"),n=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(a,e,(function(){return i[e]}))}(o);a["default"]=n.a},f607:function(e,a,t){"use strict";t.r(a);var i=t("739e"),n=t("ec4d");for(var o in n)"default"!==o&&function(e){t.d(a,e,(function(){return n[e]}))}(o);t("9232");var s,r=t("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"2e996640",null,!1,i["a"],s);a["default"]=l.exports}},[["4304","common/runtime","common/vendor"]]]);