(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/returnGoods/refund"],{"1d66":function(e,t,n){"use strict";(function(e){n("1fd4");r(n("66fd"));var t=r(n("957c"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"298d":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.show=!0},e.e1=function(t){e.show=!1})},a=[]},5399:function(e,t,n){},"570e":function(e,t,n){"use strict";n.r(t);var r=n("b561"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"957c":function(e,t,n){"use strict";n.r(t);var r=n("298d"),i=n("570e");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("f7b9");var o,s=n("f0c5"),u=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"65530614",null,!1,r["a"],o);t["default"]=u.exports},b561:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}var s={data:function(){return{title:"申请售后",delete_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/delete2x.png",xiangji_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/xiangji2x.png",gouhei_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/gouhei.png",refund_type:"",order_details_id:"",order:"",returnR:"",money:"",content:"",content1:"",src:[],srcLength:[3,2,1,0],requestTime:"",requestTime1:0,img_index:-1,return_suess:!1,order_end:"",src_img:[],return_r:1,refund_price:"",refund_price_:"",order_anking:"",fastTap:!0,rType:!1,can_sbm:!0,r_status:"",dsb:!1,show:!1,reasonList:[]}},watch:{src:function(e,t){this.requestTime=this.src.length}},onLoad:function(e){this.isLogin((function(){})),this.refund_type=e.refund_type,this.order_details_id=e.order_details_id,this.order_anking=e.order_anking,this.r_status=e.r_status,this.r_status&&(this.returnR=1),"true"==e.isbatch&&(this.returnR=4),this._axios(),this.rType=e.rType,this.getReason()},methods:{getReason:function(){var t={module:"app",action:"DadaFreight",app:"returnRemark"},n=this;this.$req.post({data:t}).then((function(t){200==t.code?n.reasonList=t.data:e.showToast({title:t.message,duration:1500,icon:"none"})}))},chooseItem:function(e){this.content1=e.remark},changeLoginStatus:function(){this._axios()},_button:function(){var t=this;return o(r.default.mark((function n(){var i,a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.can_sbm){n.next=6;break}t.dsb=!0,t.can_sbm=!1,setTimeout((function(){t.dsb=!1,t.can_sbm=!0}),1e4),n.next=7;break;case 6:return n.abrupt("return",!1);case 7:if(t.fastTap){n.next=9;break}return n.abrupt("return");case 9:if(t.fastTap=!1,!t.content1||!t.rType||0!=t.src.length){n.next=15;break}i={module:"app",action:"order",app:"ReturnData",order_details_id:t.order_details_id,refund_amount:t.refund_price,explain:t.content,contents:t.content1,type:t.refund_type,refund_apply_money:t.refund_price_},t.$req.post({data:i}).then((function(n){var r=n.code,i=n.date,a=n.message;t.dsb=!1,t.can_sbm=!0,200==r?(t.return_suess=!0,t.return_r=4,t.order_end=i,t.fastTap=!0,e.showToast({title:t.language.refund.Tips[2],icon:"none",duration:1e3})):e.showToast({title:a,duration:1500,icon:"none"}),t.fastTap=!0,e.hideLoading()})).catch((function(n){t.dsb=!1,t.can_sbm=!0,t.fastTap=!0,e.hideLoading(),e.showToast({title:t.language.refund.Tips[3],icon:"none",duration:1e3})})),n.next=33;break;case 15:if(!(t.content1&&t.src.length>0)){n.next=28;break}a=0;case 17:if(!(a<t.src.length)){n.next=26;break}return i={module:"app",action:"order",app:"ReturnData",order_details_id:t.order_details_id,refund_amount:t.refund_price,explain:encodeURI(t.content),type:t.refund_type,access_id:t.access_id,upload_z_num:t.src.length,upload_num:a,refund_apply_money:t.refund_price_},n.next=21,t._upload(a,i);case 21:i=n.sent,a+1==t.src.length&&e.hideLoading();case 23:a++,n.next=17;break;case 26:n.next=33;break;case 28:return t.fastTap=!0,t.content1?0!=t.src.length||t.rType||e.showToast({title:t.language.refund.Tips[5],duration:1e3,icon:"none"}):e.showToast({title:t.language.refund.Tips[4],duration:1e3,icon:"none"}),t.dsb=!1,t.can_sbm=!0,n.abrupt("return",!1);case 33:case"end":return n.stop()}}),n)})))()},_upload:function(t,n){var r=this;return new Promise((function(i){e.uploadFile({url:e.getStorageSync("url"),filePath:r.src[t],name:"file",formData:n,success:function(n){var a=JSON.parse(n.data);if(r.fastTap=!0,200==a.code){if(t++,t==r.src.length){r.return_suess=!0,r.return_r=4;var o=JSON.parse(n.data);r.order_end=o.date,r.fastTap=!0,e.showToast({title:this.language.refund.Tips[2],duration:1500,icon:"none"})}i(a)}else e.showToast({title:a.status,duration:1500,icon:"none"})},error:function(){r.fastTap=!0}})}))},_text:function(){200==this.content.length&&e.showToast({title:this.language.refund.Tips[6],duration:1e3,icon:"none"})},_axios:function(){var t=this,n={module:"app",action:"order",app:"return_method",order_details_id:this.order_details_id};this.$req.post({data:n}).then((function(n){if(200==n.code){var r=n.data,i=r.list,a=r.refund_price;t.order=i,t.refund_price_=t.refund_price=a}else e.showToast({title:n.message,duration:1500,icon:"none"})}))},choiceImg:function(t){var n=this,r=this.srcLength[t];e.chooseImage({count:r,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){t.tempFilePaths.filter((function(t){e.getImageInfo({src:t,success:function(e){n.src=n.src.concat([e.path])}})}))}})},_touchstart:function(e){var t=this;this.timeout=setTimeout((function(n){t.img_index=e}),800)},_touchend:function(){clearTimeout(this.timeout)},_delete:function(e){this.src.length>0&&(this.src.splice(e,1),this.img_index=-1)},refund_price_rule:function(){(this.refund_price_>this.refund_price||""==this.refund_price_||this.refund_price_<0)&&(this.refund_price_=this.refund_price)}}};t.default=s}).call(this,n("543d")["default"])},f7b9:function(e,t,n){"use strict";var r=n("5399"),i=n.n(r);i.a}},[["1d66","common/runtime","common/vendor"]]]);