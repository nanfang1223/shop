(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/orderSearch"],{3641:function(e,t,r){},"46c4":function(e,t,r){"use strict";var a=r("3641"),n=r.n(a);n.a},"52ed":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r("a34a")),n=r("2f62"),o=i(r("c7af"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a,n,o,i){try{var s=e[o](i),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(a,n)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var o=e.apply(t,r);function i(e){s(o,a,n,i,u,"next",e)}function u(e){s(o,a,n,i,u,"throw",e)}i(void 0)}))}}function c(e){return _(e)||p(e)||l(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function p(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={data:function(){return{receiving_check:{por_list:[]},receiving_shop:{flag:!1,bottom:""},loadImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/5-121204193R7.gif",emptyImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/empyimg92x.png",title:"搜索结果",can_del:!0,fastTap:!0,jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",storeImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/store.png",serchimg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/searchh.png",noOrder:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/noOrder.png",bback:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/bback.png",search2x:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/search2x.png",integral_hong:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/integral.png",integral_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/integral_hei.png",finish2x:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/finish2x.png",head:!0,header:["全部","待付款","待发货","待收货","待评价"],rightText:["立即付款","提醒发货","确认收货","待评价","退货","追加评价","再次购买","拼团详情","邀请好友"],leftText:["取消订单","查看物流","删除订单","查看详情","拼团详情"],order:[],status_id:"",sreach_value:"",page:1,allLoaded:!1,loading:!1,del_num:0,load:!0,timer:null,count:"",flag:!0,loadingType:0,value:"",alertTips:!1,pay_name:"MYORDER",shouhuoData:[],isDelModel:!1}},computed:{imgWidth:function(){if(this.receiving_check.por_list&&this.receiving_check.por_list.length>1){var t=150*this.receiving_check.por_list.length;return e.upx2px(t)+"px"}}},onLoad:function(t){var r=this;this.receiving_shop.bottom=e.upx2px(160),wx.getSystemInfo({success:function(e){r.receiving_shop.bottom-=e.statusBarHeight}}),this.sreach_value=t.sreach_value,this.access_id?this._axios():this.load=!1},onShow:function(e){var t=this;this.isLogin((function(){t.access_id?t._axios():t.load=!1}))},methods:h({receiving_stop:function(){this.receiving_shop.flag=!1},_receiving:function(t){var r=this,a={module:"app",app:"see_extraction_code",action:"order",order_id:t.id};this.$req.post({data:a}).then((function(t){r.receiving_shop.flag=!0,r.fastTap=!0;var a=t.code,n=t.list,o=t.message;200===a?r.receiving_check=n:e.showToast({title:o,duration:1500,icon:"none"})}))},_goStore:function(t){e.navigateTo({url:"/pagesA/store/store?shop_id="+t})},getOrderType:function(e){0==this.status_id?e.order_type="":1==this.status_id?e.order_type="payment":2==this.status_id?e.order_type="send":3==this.status_id?e.order_type="receipt":4==this.status_id&&(e.order_type="evaluete")},changeLoginStatus:function(){this._axios()},_navigateTo:function(t,r,a){if(0==t){var n="../order/order?order_id="+r+"&showPay=true";e.navigateTo({url:n})}else{var o="order?order_id="+r;e.navigateTo({url:o})}this.flag=!1},_uni_navigateTo:function(t){e.navigateTo({url:t})},_toHome:function(){e.switchTab({url:"/pages/tabBar/home"})},_selTips:function(t){var r=this;if(t){var a=this.shouhuoData["orde_id"],n={module:"app",action:"order",app:"ok_Order",order_id:a};this.$req.post({data:n}).then((function(t){var a=t.code;t.message;200===a?(e.showToast({title:r.language.order.orderSearch.Tips2[4],duration:1e3,icon:"none"}),r.alertTips=!1,setTimeout((function(){r._axios()}),1e3)):e.showToast({title:t.message,duration:1500,icon:"none"})}))}else this.alertTips=!1},_axios:function(){var t=this,r={ordervalue:this.sreach_value,module:"app",action:"order",app:"index"};this.getOrderType(r);var a=this;this.access_id&&this.$req.post({data:r}).then((function(e){var r,n=e.order;t.order=[],setTimeout((function(){t.load=!1}),300),(0,o.default)(n,"",a),n instanceof Array&&(n=n.map((function(e){return(e.subtraction_list instanceof Array||!e.subtraction_list)&&(e.subtraction_list={product_title:"",num:"",imgurl:""}),e}))),(r=t.order).push.apply(r,c(n)),n.length<10?t.allLoaded=!0:t.allLoaded=!1})).catch((function(t){e.showToast({title:t.message,duration:1500,icon:"none"})}))},comment:function(t){var r=t.id,a=t.comments_type;1==a?e.navigateTo({url:"../evaluate/evaluating?order_details_id="+r+"&num=all"}):e.navigateTo({url:"../evaluate/evaluating?order_details_id="+r+"&add=true&num=all"})},_check_order_status:function(e,t,r){var n=this;return u(a.default.mark((function o(){var i,s,u;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={module:"app",action:"order",app:"order_details",order_id:e},a.next=3,n.$req.post({data:i});case 3:if(s=a.sent,u=s.data.status,u=Number.parseInt(u),r=Number.parseInt(r),7!==u&&6!==u||u===r){a.next=11;break}if(t!=n.language.order.myorder.Buy_again){a.next=10;break}return a.abrupt("return",Promise.resolve());case 10:return a.abrupt("return",Promise.reject(n.language.order.myorder.order_gb));case 11:return a.abrupt("return",Promise.resolve());case 12:case"end":return a.stop()}}),o)})))()},_buttonLeft:function(t,r,a,n){var o=this,i=r.id,s=r.sNo,u=r.status;r.delivery_status,a.attribute_id,a.p_id;if(!this.can_del)return!1;this.can_del=!1,setTimeout((function(){o.can_del=!0}),1500),this.fastTap=!1;var c=s.substr(0,2),d={module:"app",action:"order",order_id:i};if(0==u)e.showModal({title:this.language.order.myorder.prompt1,content:this.language.order.myorder.sure1,success:function(t){t.confirm?(d.app="removeOrder",o.$req.post({data:d}).then((function(t){var r=t.code;t.message;200===r&&e.showToast({title:o.language.order.orderSearch.Tips2[0],duration:1e3,icon:"none"}),o._axios()}))):t.cancel&&(o.fastTap=!0)}});else if(2==u||3==u||5==u){this.fastTap=!0;var l={module:"app",action:"order",app:"logistics",id:s,o_source:1,type:""};1==this.source&&(l.type="pond"),this.$req.post({data:l}).then((function(t){if(e.hideLoading(),200==t.code){var r=t.res;r.length>1?e.navigateTo({url:"/pagesB/expressage/expressage?sNo="+s}):e.navigateTo({url:"/pages/expressage/expressage?list="+JSON.stringify(r[0])+"&sNo="+s})}else e.showToast({title:t.message,duration:1500,icon:"none"})})).catch((function(t){e.showToast({title:o.language.order.orderSearch.Tips[2],duration:2e3,icon:"none"})}))}else if(12==u||4==u||1==u&&"PT"!=c)this.fastTap=!0,e.navigateTo({url:"/pages/order/order?order_id="+i});else if(9==u||10==u||1==u&&"PT"==c){this.fastTap=!0;var p="/pagesA/group/group_end?sNo="+s+"&returnR=1";e.navigateTo({url:p})}else 7!=u&&6!=u&&11!=u&&12!=u||e.showModal({title:this.language.order.myorder.prompt,content:this.language.order.myorder.sure,success:function(t){t.confirm?(d.app="del_order",o.$req.post({data:d}).then((function(t){var r=t.code,a=t.message;200==r?(e.showToast({title:o.language.order.myorder.delete_success,duration:1e3,icon:"none"}),o.order.splice(n,1),o.del_num++,o.del_num>=5&&o._rollBottom()):e.showToast({title:a,duration:1e3,icon:"none"}),o.fastTap=!0}))):t.cancel&&(o.fastTap=!0)}})},_buttonRight:function(t,r,n,o,i){var s=this;return u(a.default.mark((function t(){var o,u,c,d,l,p;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=r.id,u=r.sNo,c=r.status,d=r.delivery_status,r.list,n.attribute_id,n.p_id,t.prev=2,t.next=5,s._check_order_status(o,i,c);case 5:t.next=13;break;case 7:return t.prev=7,t.t0=t["catch"](2),e.showToast({title:t.t0,icon:"none"}),s._axios(),s.fastTap=!1,t.abrupt("return",!1);case 13:if(u.substr(0,2),7!=c&&6!=c&&12!=c){t.next=19;break}l={module:"app",action:"order ",app:"buy_again",id:o},s.$req.post({data:l}).then((function(t){var r=t.cart_id,a=t.code,n=t.message;200==a?(s.cart_id(r),s.order_id(""),s.address_id(""),s.$store.state.cart_id=r,e.navigateTo({url:"/pages/pay/orderDetailsr?buy_again=true&cart_id="+r})):e.showToast({title:n,duration:1500,icon:"none"})})),t.next=54;break;case 19:if(0!=c){t.next=26;break}s.order_id(o),s.address_id(""),p="/pages/order/order_payment?order_id="+o+"&showPay=true&ordertype="+r.otype,e.navigateTo({url:p}),t.next=54;break;case 26:if(1!=c){t.next=33;break}if(s.fastTap){t.next=29;break}return t.abrupt("return");case 29:s.fastTap=!1,0==d?(l={module:"app",order_id:o,app:"delivery_delivery",action:"order"},s.$req.post({data:l}).then((function(t){s.fastTap=!0,200==t.code?(e.showToast({title:s.language.order.myorder.deliver_goods2,duration:1e3,icon:"none"}),s._axios()):e.showToast({title:t.message,duration:1500,icon:"none"})}))):s.fastTap=!0,t.next=54;break;case 33:if(4!=c){t.next=37;break}e.navigateTo({url:"/pages/order/order?order_id="+o}),t.next=54;break;case 37:if(3!=c){t.next=41;break}e.navigateTo({url:"/pages/evaluate/evaluating?order_details_id="+o+"&num=all"}),t.next=54;break;case 41:if(5!=c){t.next=45;break}e.navigateTo({url:"/pages/evaluate/evaluating?order_details_id="+o+"&add=true&num=all"}),t.next=54;break;case 45:if(9!=c&&10!=c&&11!=c){t.next=50;break}p="/pagesA/group/group_end?sNo="+u,e.navigateTo({url:p}),t.next=54;break;case 50:if(2!=c){t.next=54;break}return s.shouhuoData["orde_id"]=o,s.alertTips=!0,t.abrupt("return",!1);case 54:case"end":return t.stop()}}),t,null,[[2,7]])})))()}},(0,n.mapMutations)({cart_id:"SET_CART_ID",order_id:"SET_ORDER_ID",address_id:"SET_ADDRESS_ID"}))};t.default=v}).call(this,r("543d")["default"])},6020:function(e,t,r){"use strict";r.r(t);var a=r("9a58"),n=r("83ac");for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);r("46c4");var i,s=r("f0c5"),u=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"7d673347",null,!1,a["a"],i);t["default"]=u.exports},"83ac":function(e,t,r){"use strict";r.r(t);var a=r("52ed"),n=r.n(a);for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"8ae0":function(e,t,r){"use strict";(function(e){r("1fd4");a(r("66fd"));var t=a(r("6020"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},"9a58":function(e,t,r){"use strict";var a;r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement;e._self._c},o=[]}},[["8ae0","common/runtime","common/vendor"]]]);