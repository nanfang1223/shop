(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/collection/collection"],{1334:function(e,t,i){"use strict";(function(e){i("1fd4");l(i("66fd"));var t=l(i("2103"));function l(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},2103:function(e,t,i){"use strict";i.r(t);var l=i("62fb"),s=i("ee4a");for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);i("4cf5");var o,a=i("f0c5"),c=Object(a["a"])(s["default"],l["b"],l["c"],!1,null,"1630f02a",null,!1,l["a"],o);t["default"]=c.exports},"4cf5":function(e,t,i){"use strict";var l=i("855d"),s=i.n(l);s.a},"62fb":function(e,t,i){"use strict";var l;i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return l}));var s=function(){var e=this,t=e.$createElement;e._self._c},n=[]},"855d":function(e,t,i){},d03b:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i("2f62");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,l)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a={data:function(){return{noCol:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/noCol.png",toImage:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",collection:[],collection1:[],state:"编辑",statevalue:!1,selectvalue:"",selectvalue1:"",selectAll:"",selectAll1:"",selectArray:[],selectArray1:[],deletecolle:{},quan_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",quan_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/2.png",display_img:[],display_img1:[],flag:!0,fastTap:!0,navActive:!0,navType:1,loadFlag:!1}},onLoad:function(){this.navType=1,this._axios()},onShow:function(){var e=this;this.state=this.language.collection.edit,e.LaiKeTuiCommon.getLKTApiUrl().then((function(){e.isLogin((function(){e._axios()}))}))},methods:n({changeLoginStatus:function(){this._axios()},_goStore:function(t){e.navigateTo({url:"/pagesA/store/store?shop_id="+t.mch_id})},_find:function(t){this.pro_id(t),e.navigateTo({url:"discover?pro_id="+t})},_back:function(){this.flag=!1,e.navigateBack({delta:1})},_state:function(){this.collection1.length||this.collection.length?(this.selectAll="",this.selectAll1="",this.statevalue=!this.statevalue,this.statevalue?this.state=this.language.collection.complete:this.state=this.language.collection.edit):(this.statevalue=!this.statevalue,this.statevalue?this.state=this.language.collection.complete:this.state=this.language.collection.edit)},_axios:function(){var t=this,i={module:"app",action:"addFavorites",app:"collection",type:this.navType};this.$req.post({data:i}).then((function(i){t.loadFlag=!0,200==i.code?1==t.navType?t.collection1=i.data:t.collection=i.data:(t.collection="",e.showToast({title:i.message,duration:1500,icon:"none"}))}))},changeNav:function(e,t){this.navActive=e,this.navType=t,this.loadFlag=!1,this._axios()},_checkedOne:function(e,t){if(1==this.navType){var i=this.selectArray1.findIndex((function(t){return e.id==t.id}));if(this.statevalue){this.$refs.img;i<0?(this.selectArray1.push(e),this.$set(this.display_img1,t,!0)):(this.selectArray1.splice(i,1),this.$set(this.display_img1,t,!1)),this.selectArray1.length==this.collection1.length?this.selectAll1=!0:this.selectAll1=!1}}else{i=this.selectArray.findIndex((function(t){return e.id==t.id}));if(this.statevalue){this.$refs.img;i<0?(this.selectArray.push(e),this.$set(this.display_img,t,!0)):(this.selectArray.splice(i,1),this.$set(this.display_img,t,!1)),this.selectArray.length==this.collection.length?this.selectAll=!0:this.selectAll=!1}}},_selectHandle:function(e){e.selectAll1=!e.selectAll1;this.$refs.img;if(e.selectAll1)for(var t=0;t<e.collection1.length;t++)this.$set(e.selectArray1,t,e.collection1[t]),this.$set(e.display_img1,t,!0);else{e.selectArray1=[];for(t=0;t<e.collection1.length;t++)this.$set(e.display_img1,t,!1)}return e},_selectAll:function(){if(1==this.navType){var e={selectAll1:this.selectAll1,display_img1:this.display_img1,selectArray1:this.selectArray1,collection1:this.collection1};e=this._selectHandle(e),this.selectAll1=e.selectAll1}else{e={selectAll1:this.selectAll,display_img1:this.display_img,selectArray1:this.selectArray,collection1:this.collection};e=this._selectHandle(e),this.selectAll=e.selectAll1}},_delete:function(){var t=this;if(this.fastTap)if(this.fastTap=!1,this.selectArray1.length||this.selectArray.length){this.deletecolle.collection="",this.deletecolle.access_id=this.access_id,1==this.navType?this.selectArray1.forEach((function(e,i){t.deletecolle.collection+=e.id+","})):this.selectArray.forEach((function(e,i){t.deletecolle.collection+=e.id+","})),this.deletecolle.module="app",this.deletecolle.action="addFavorites",this.deletecolle.app="removeFavorites";var i=this.deletecolle;this.$req.post({data:i}).then((function(i){t.fastTap=!0;var l=[],s=[];if(200==i.code){var n=t.deletecolle.collection;for(var o in n)1==t.navType?(t.selectArray1.forEach((function(e,t){n[o]!=e.id&&l.push(e)})),t.selectArray1=l):(t.selectArray.forEach((function(e,t){n[o]!=e.id&&s.push(e)})),t.selectArray=s);t.display_img1=[];for(var a=0;a<t.collection1.length;a++)t.display_img1.push(!1);t.display_img=[];for(a=0;a<t.collection.length;a++)t.display_img.push(!1);var c="";c="编辑"==t.language.collection.edit?i.message:t.language.collection.Cancelled_successfully,e.showToast({title:c,duration:1500,icon:"none",success:function(){setTimeout((function(){t.collection=[],t.collection1=[],t._axios(),t.selectArray1=[],t.statevalue=!t.statevalue,t.state=t.language.collection.edit}),1500)}})}else e.showToast({title:i.message,duration:1500,icon:"none"});for(a=0;a<t.display_img.length;a++)t.$set(t.display_img1,a,!1)})).catch((function(e){t.fastTap=!0}))}else this.fastTap=!0,e.showToast({title:this.language.collection.commodity_delete,duration:1e3,icon:"none"})},_goods:function(t){this.pro_id(t),e.navigateTo({url:"../goods/goodsDetailed"})}},(0,l.mapMutations)({pro_id:"SET_PRO_ID"})),components:{}};t.default=a}).call(this,i("543d")["default"])},ee4a:function(e,t,i){"use strict";i.r(t);var l=i("d03b"),s=i.n(l);for(var n in l)"default"!==n&&function(e){i.d(t,e,(function(){return l[e]}))}(n);t["default"]=s.a}},[["1334","common/runtime","common/vendor"]]]);