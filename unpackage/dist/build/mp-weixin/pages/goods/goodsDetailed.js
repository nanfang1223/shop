(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goodsDetailed"],{"252d":function(i,t,e){},"45c4":function(i,t,e){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e("2f62"),s=e("9f38"),n=e("2969"),a=r(e("c612"));function r(i){return i&&i.__esModule?i:{default:i}}function h(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.push.apply(e,o)}return e}function u(i){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?h(Object(e),!0).forEach((function(t){c(i,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(e,t))}))}return i}function c(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var g=function(){e.e("components/header").then(function(){return resolve(e("3ba9"))}.bind(null,e)).catch(e.oe)},_=function(){e.e("components/skus").then(function(){return resolve(e("6910"))}.bind(null,e)).catch(e.oe)},l=function(){Promise.all([e.e("common/vendor"),e.e("components/mpvue-wxparse/src/wxParse")]).then(function(){return resolve(e("e345"))}.bind(null,e)).catch(e.oe)},d=function(){e.e("components/ruleModal").then(function(){return resolve(e("35f7"))}.bind(null,e)).catch(e.oe)},p=function(){e.e("components/toload").then(function(){return resolve(e("1201"))}.bind(null,e)).catch(e.oe)},f={data:function(){return{leixing:0,mockPro:s.mockPro,back1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x_w.png",niming:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/landing_logo2x.png",zhiding:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/zhiding.png",coupon_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/coupon_detail.png",guan_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/guanbi2x.png",close:"",saves:"",cs_yprice:"",cs_price:"",cs_num:"",hour:0,mniuate:0,second:0,day:0,leftTime:"",attr_id:"",bargain:!1,bargain_rule:"",bargain_content:"",isShow:"",shop_list:[],option:"",overflow:"scroll",fastTap:!0,axios_complete:!1,title:"商品详情",shop_id:"",bback_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/bback.png",fx_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/fx.png",gw_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/gw.png",you_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/jiantouhei2x.png",kf_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/kefu2x.png",top_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/kaobei2x.png",wx_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/wechat.png",xing_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xinghei2x.png?v="+Math.random(),xing_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xinghui2x.png",erm_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/ewmShare.png",erm_pyq_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/wepyq.png",coupon_on:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/coupon_on.png",no_coupon:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/noFind.png",attribute_id:"",attrList:"",ys_price:"",collection_id:"",pro:"",comments:"",collection:"",type:"",goods_x:!0,goods_g:!1,g_show:!1,imgurls:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/landing_logo.png",load:!0,shareMask:!1,saveEWM:!1,shares:{},shareContent:"一起来用来客推吧！",shareHref:"",shareHref2:"",sharehrefTitle:"一起来用来客推吧!",sharehrefDes:"一起来用来客推吧!",shareImg:"",shareDiv:!1,pic:"",logo:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/lktlogo.png",list_end:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/jp_end.png",pro_id:"",order_no:"",brStatus:"",bargain_id:"",isDistribution:!1,ewmImg:"",login_status:"",is_grade:"",active:"",hasorder:0,sNo_id:0,isbegin:1,shareMask_H5:!1,h5_url:"",isfx:"",shareshop:0,shareWay:[],couponMask:!1,coupon_list:[],clicktimes:[],allCartNum:0,status:"2",is_shop:!1,headerplus:!1,coupon_status:!1,coupon_str:[],swiperIndex:1,loadFlag:!1,num:"",numb:"",haveSkuBean:""}},computed:u({halfWidth:function(){var t=i.getStorageSync("data_height")?i.getStorageSync("data_height"):this.$store.state.data_height,e=2*(parseInt(t)+44);return e=i.upx2px(e),e+"px"},height:function(){if(this.leftTime>0)return i.upx2px(158)+"px"}},(0,o.mapState)({_cart_num:"cart_num"})),beforeCreate:function(){},onLoad:function(t){this.setLang(),i.setStorageSync("jz",1),this.shareContent=this.language.showModal.shareContent,this.sharehrefTitle=this.language.showModal.shareContent,this.sharehrefDes=this.language.showModal.shareContent,this.option=t,this.fastTap=!0,this.leftTime=t.leftTime,this.isfx=t.isfx,t.productId?this.pro_id=t.productId:t.pro_id&&(this.pro_id=t.pro_id),this.bargain_id=t.bargain_id,this.bargain=t.bargain,this.brStatus=t.brStatus,console.log(this.brStatus),this.attr_id=t.attr_id,this.order_no=t.order_no,this.sNo_id=t.sNo_id,this.isbegin=t.isbegin,this.bargain&&this.LaiKeTuiSetBargainRuleData(),""!=this.pro_id&&void 0!=this.pro_id||(this.pro_id=this.$store.state.pro_id),t.isDistribution&&(this.isDistribution=t.isDistribution),this.hasorder=t.hasorder,console.log(this.hasorder),i.setStorageSync("fatherId",t.fatherId)},onShow:function(t){var e=this;this.allCartNum=this.$store.state.cart_num,this.close=this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/close_bb.png",this.saves=this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/save.png",this.fastTap=!0;var o=new Promise((function(i,t){e.LaiKeTuiCommon.getLKTApiUrl().then((function(){i(1231)}))}));o.then((function(){e._axios(),e.$nextTick((function(){i.getProvider({service:"share",success:function(i){console.log(i.provider)}})}))})),this.couponMask=!1},onShareAppMessage:function(t){if(0!=this.login_status)return{title:this.sharehrefTitle,path:this.shareHref2,imageUrl:this.shareImg,bgImgUrl:this.shareImg,success:function(i){this.shareHref2="/pages/goods/goodsDetailed?productId="+this.pro_id}};i.navigateTo({url:"/pages/login/login?landing_code=1"})},methods:u(u({SetTimeData:function(){(0,n.LaiKeTuiSetTimeData)(this)},swiperChange:function(i){this.swiperIndex=i.detail.current+1},_zhiding:function(){i.pageScrollTo({scrollTop:0,duration:300})},setHead:function(){var t=this,e=i.createSelectorQuery().in(this);e.select("#boxs").boundingClientRect((function(i){i.top>-20?t.headerplus=!1:i.top<-20&&(t.headerplus=!0)})).exec()},cancle:function(){this.fastTap=!0},changeLoginStatus:function(){this.login_status=1,this.fastTap=!0,this._axios()},copy_url:function(){this.shareMask_H5=!0,this.h5_url=this.shareHref},copyH5Url:function(){jQuery("#h5_input input").select(),document.execCommand("Copy")},goPay:function(){if(this.bargain_id){var t=[];t.push({pid:this.pro_id}),t.push({cid:this.attr_id}),t.push({num:1}),t.push({bargain:!0}),t.push({bargain_id:this.bargain_id}),t.push({order_no:this.order_no}),t=JSON.stringify(t),i.navigateTo({url:"/pagesA/bargain/bargainDetailsr?product="+t+"&bargain=true&bargain_id="+this.bargain_id+"&order_no="+this.order_no+"&returnR=2"})}else{var e=[];e.push({pid:this.pro_id}),e.push({cid:this.attr_id}),e.push({num:1}),e=JSON.stringify(e),i.navigateTo({url:"/pages/pay/orderDetailsr?product="+e+"&bargain=true&bargain_id="+this.bargain_id+"&order_no="+this.order_no+"&returnR=2"})}},toBr:function(){this.pro.num<1?i.showToast({title:this.language.goods.goodsDet.stock,icon:"none",duration:1500}):(0,n.LaiKeTuiToBr)(this)},_goStore:function(t){i.navigateTo({url:"/pagesA/store/store?shop_id="+t})},_closeAllMask:function(){this.shareMask=!1,this.saveEWM=!1,this.shareMask_H5=!1,this.overflow="scroll"},_shareDiv:function(){this.shareDiv=!1},_invite:function(i){(0,n.LaiKeTuiInvite)(i,this)},_goRule:function(){this._toGradeUse(!0)},_goback:function(){if("true"!=this.option.toback)return"true"==this.isfx?(i.reLaunch({url:"/pages/tabBar/home"}),!1):void i.navigateBack({delta:1});i.navigateBack({delta:1})},_downEWM:function(){var t=this;i.downloadFile({url:this.ewmImg,success:function(e){var o=e.tempFilePath;i.saveImageToPhotosAlbum({filePath:o,success:function(){i.showToast({title:t.language.goods.goodsDet.Save_success,duration:1500,icon:"none"}),t.shareMask=!1,t.saveEWM=!1},fail:function(){i.showToast({title:t.language.goods.goodsDet.fail_success,duration:1500,icon:"none"})}})},fail:function(){i.showToast({title:t.language.goods.goodsDet.fail_success,duration:1500,icon:"none"})}})},_shareApp:function(t){var e="";1==t?e="WXSenceTimeline":2==t&&(e="WXSceneSession"),i.share({provider:"weixin",scene:e,type:2,imageUrl:this.ewmImg,success:function(i){},fail:function(i){}})},showShareMask:function(t){var e=this;if(t&&t>0){this.is_shop=!0,this.shop_id=t,this.sharehrefTitle=this.shop_list.shop_name,this.shareImg=this.shop_list.shop_logo,this.shareContent=this.shop_list.shop_name;var o=i.getStorageSync("h5_url");this.shareHref=o+"pagesA/store/store?is_share=true&shop_id="+t,this.shareHref2="/pagesA/store/store?is_share=true&shop_id="+t}else{this.is_shop=!1,this.shareHref2="/pages/goods/goodsDetailed?productId="+this.pro_id+"&isfx=true",this.sharehrefTitle=this.pro.name,this.shareImg=this.imgurl,this.shareContent=this.pro.name;o=i.getStorageSync("h5_url");this.shareHref=o+"pages/index/share?pages=goodsDetailed&productId="+this.pro_id+"&isfx=true",1==this.pro.is_distribution&&(this.isDistribution=!0,this.shareHref=o+"pages/index/share?pages=goodsDetailed&productId="+this.pro_id+"&isfx=true&fatherId="+this.pro.user_id,this.shareHref2="/pages/goods/goodsDetailed?productId="+this.pro_id+"&isfx=true&fatherId="+this.pro.user_id)}this.isLogin((function(){e.shareMask=!0}))},closeShareMask:function(){this.shareMask=!1,this.overflow="scroll"},showSaveEWM:function(i){this.is_shop?(0,n.LaiKeTuiShopEWM)(i,this):(0,n.LaiKeTuiShowSaveEWM)(i,this)},kf:function(t){this.isLogin((function(){i.navigateTo({url:"/pages/message/service?pid="+t})}))},_load_img:function(){this.load=!1},_goods_x:function(){this.goods_x=!0,this.goods_g=!1},_goods_g:function(){this.goods_x=!1,this.goods_g=!0}},(0,o.mapMutations)({cart_id:"SET_CART_ID",order_id:"SET_ORDER_ID",address_id:"SET_ADDRESS_ID",pay_lx:"SET_PAY_LX",cart_num:"SET_CART_NUM"})),{},{_evaluate:function(t){this.bargain?i.navigateTo({url:"/pages/evaluate/evaluate?bargain=true&pid="+t}):i.navigateTo({url:"/pages/evaluate/evaluate?pid="+t})},_collection:function(){(0,n.LaiKeTui_collection)(this)},_selectG:function(){this.type=1,this._mask_display()},_shopping:function(){2==this.status?(0,n.LaiKeTui_shopping)(this):i.showToast({title:this.language.goods.goodsDet.shelf2,icon:"none"})},_shopping1:function(){this.type=1,this.fastTap=!0,this._mask_display()},getCoupon:function(){(0,n.LaiKeTuiGetCoupon)(this)},_receive:function(i,t){var e=this;this.isLogin((function(){(0,n.LaiKeTui_receive)(e,t)}))},closeCouponMask:function(){this.couponMask=!1},_buy:function(t){if(this.leixing=t,!this.axios_complete)return!1;2==this.status?1==this.pro.canbuy?this.LaiKeTuiCommon.laiketuiNoDoublePress(this,this._buy_handle):5==this.active?i.showToast({title:this.language.goods.goodsDet.Membership_level,icon:"none"}):i.showToast({title:this.language.goods.goodsDet.distribution,icon:"none"}):i.showToast({title:this.language.goods.goodsDet.shelf2,icon:"none"}),6!=this.active||0==this.is_grade&&1==this.login_status&&i.showToast({icon:"none",title:this.language.goods.goodsDet.no_vip})},_buy_handle:function(){console.log(55),(0,n.LaiKeTui_buy_handle)(this,this.leixing)},_mask_display:function(){this.$refs.attrModal._mask_display()},_confirm:function(i){Object.assign(this.$data,i),(0,n.LaiKeTui_confirm)(this)},_spec:function(){(0,n.LaiKeTui_spec)(this)},showState:function(i,t){(0,n.LaiKeTuiShowState)(this,i,t)},_axios:function(){(0,n.LaiKeTui_axios)(this),this.axios_complete=!0},_toGradeUse:function(i){i?(this.bargain_content=(0,a.default)(this.bargain_rule),this.isShow=!this.isShow):this.isShow=!this.isShow},LaiKeTuiSetBargainRuleData:function(){var i=this,t={m:"getRule",action:"bargain",module:"app"};this.$req.post({data:t}).then((function(t){i.bargain_rule=t.rule}))}}),components:{heads:g,wxParse:l,toload:p,ruleModal:d,skus:_}};t.default=f}).call(this,e("543d")["default"])},"5ebe":function(i,t,e){"use strict";var o;e.d(t,"b",(function(){return s})),e.d(t,"c",(function(){return n})),e.d(t,"a",(function(){return o}));var s=function(){var i=this,t=i.$createElement;i._self._c},n=[]},"93dd":function(i,t,e){"use strict";(function(i){e("1fd4");o(e("66fd"));var t=o(e("faa3"));function o(i){return i&&i.__esModule?i:{default:i}}i(t.default)}).call(this,e("543d")["createPage"])},bd42:function(i,t,e){"use strict";e.r(t);var o=e("45c4"),s=e.n(o);for(var n in o)"default"!==n&&function(i){e.d(t,i,(function(){return o[i]}))}(n);t["default"]=s.a},d000:function(i,t,e){"use strict";var o=e("252d"),s=e.n(o);s.a},faa3:function(i,t,e){"use strict";e.r(t);var o=e("5ebe"),s=e("bd42");for(var n in s)"default"!==n&&function(i){e.d(t,i,(function(){return s[i]}))}(n);e("d000");var a,r=e("f0c5"),h=Object(r["a"])(s["default"],o["b"],o["c"],!1,null,"a150d63a",null,!1,o["a"],a);t["default"]=h.exports}},[["93dd","common/runtime","common/vendor"]]]);