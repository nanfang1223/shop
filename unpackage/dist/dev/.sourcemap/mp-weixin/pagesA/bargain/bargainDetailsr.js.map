{"version":3,"sources":["uni-app:///main.js","webpack:///F:/ss/pagesA/bargain/bargainDetailsr.vue?8988","webpack:///F:/ss/pagesA/bargain/bargainDetailsr.vue?02b7","webpack:///F:/ss/pagesA/bargain/bargainDetailsr.vue?f896","webpack:///F:/ss/pagesA/bargain/bargainDetailsr.vue?1d23","uni-app:///pagesA/bargain/bargainDetailsr.vue","webpack:///F:/ss/pagesA/bargain/bargainDetailsr.vue?c7c8","webpack:///F:/ss/pagesA/bargain/bargainDetailsr.vue?1370"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,qH;AACAA,UAAU,CAACC,wBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwI;AACxI;AACmE;AACL;AACsC;;;AAGpG;AACqL;AACrL,gBAAgB,kMAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,sGAAM;AACR,EAAE,+GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAssB,CAAgB,kuBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoH1tB;AACA,0F;;;;;;AAMA;AACA,MADA,kBACA;AACA;AACA,iBADA;AAEA,2BAFA,EAEA;AACA,qFAHA;AAIA,iBAJA;AAKA,gBALA;AAMA,cANA;AAOA,qBAPA;AAQA,uBARA;AASA,qBATA;AAUA,aAVA,EAUA;AACA,kFAXA;AAYA,wFAZA;AAaA,wFAbA;AAcA,eAdA,EAcA;AACA,aAfA;AAgBA,cAhBA;AAiBA,wBAjBA;AAkBA,iBAlBA;AAmBA,kBAnBA,EAmBA;AACA,qBApBA;AAqBA,oJArBA,EAqBA;AACA,0BAtBA;;AAwBA,oBAxBA,EAwBA;AACA,qBAzBA,EAyBA;AACA,qBA1BA;AA2BA,wBA3BA;;AA6BA,kBA7BA;AA8BA,sBA9BA,EA8BA;AACA,qBA/BA,EA+BA;AACA,uBAhCA,CAgCA;AAhCA;AAkCA,GApCA;AAqCA,2CArCA;AAsCA;AACA,aADA,uBACA;AACA;AACA,KAHA;AAIA,oBAJA,8BAIA;AACA;AACA;AACA,KAPA,EAtCA;;AA+CA,QA/CA,kBA+CA,MA/CA,EA+CA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA,GApJA;AAqJA,QArJA,oBAqJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA,GAtKA;AAuKA,UAvKA,sBAuKA;;;;;;;;;;;AAWA,GAlLA;AAmLA;AACA,mBADA,2BACA,CADA,EACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;;AAEA,SAVA;AAWA,OAZA;AAaA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;;AAEA;AACA,KA7BA;AA8BA,oBA9BA,4BA8BA,CA9BA,EA8BA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;;AAEA,SAVA;AAWA,OAZA;AAaA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA,KA5DA;AA6DA,WA7DA,mBA6DA,UA7DA,EA6DA;AACA;AACA;AACA;AACA,eADA;;AAGA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KA5EA;;AA8EA,UA9EA,oBA8EA;AACA;AACA;AACA;AACA,qBADA;AAEA,uBAFA;AAGA,0BAHA;AAIA,yBAJA;AAKA,mCALA;AAMA,mCANA;AAOA,wDAPA;;AASA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA;AACA;AACA,WAFA,EAEA,IAFA;;AAIA;AACA,SAfA;;;AAkBA,eAlBA;;;;;;;;;;;;;;;;;AAmCA,WAnCA,CAkBA,OAlBA,CAmBA,SAnBA,GAmCA,GAnCA,CAmBA,SAnBA,CAoBA,OApBA,GAmCA,GAnCA,CAoBA,OApBA,CAqBA,OArBA,GAmCA,GAnCA,CAqBA,OArBA,CAsBA,eAtBA,GAmCA,GAnCA,CAsBA,eAtBA,CAuBA,QAvBA,GAmCA,GAnCA,CAuBA,QAvBA,CAwBA,cAxBA,GAmCA,GAnCA,CAwBA,cAxBA,CAyBA,KAzBA,GAmCA,GAnCA,CAyBA,KAzBA,CA0BA,UA1BA,GAmCA,GAnCA,CA0BA,UA1BA,CA2BA,SA3BA,GAmCA,GAnCA,CA2BA,SA3BA,CA4BA,OA5BA,GAmCA,GAnCA,CA4BA,OA5BA,CA6BA,eA7BA,GAmCA,GAnCA,CA6BA,eA7BA,CA8BA,QA9BA,GAmCA,GAnCA,CA8BA,QA9BA,CA+BA,UA/BA,GAmCA,GAnCA,CA+BA,UA/BA,CAgCA,WAhCA,GAmCA,GAnCA,CAgCA,WAhCA,CAiCA,cAjCA,GAmCA,GAnCA,CAiCA,cAjCA,CAkCA,iBAlCA,GAmCA,GAnCA,CAkCA,iBAlCA;;AAqCA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WANA;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;;AAGA;AACA;;;AAGA,OA3HA,EA2HA,KA3HA,CA2HA;AACA;AACA;AACA,OA9HA;;AAgIA,KAlOA,EAnLA;;AAuZA;AACA,oBADA;AAEA,sBAFA;AAGA,wBAHA;AAIA,gCAJA;AAKA,4BALA;AAMA,cANA,EAvZA,E;;;;;;;;;;;;;AC3HA;AAAA;AAAA;AAAA;AAAizC,CAAgB,8xCAAG,EAAC,C;;;;;;;;;;;ACAr0C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesA/bargain/bargainDetailsr.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesA/bargain/bargainDetailsr.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bargainDetailsr.vue?vue&type=template&id=3f91edbe&scoped=true&\"\nvar renderjs\nimport script from \"./bargainDetailsr.vue?vue&type=script&lang=js&\"\nexport * from \"./bargainDetailsr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bargainDetailsr.vue?vue&type=style&index=0&id=3f91edbe&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f91edbe\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/bargain/bargainDetailsr.vue\"\nexport default component.exports","export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bargainDetailsr.vue?vue&type=template&id=3f91edbe&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bargainDetailsr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bargainDetailsr.vue?vue&type=script&lang=js&\"","<template>\r\n    <div class=\"cart_f pages-pay-orderDetailsr\" ref='cart'>\r\n        <heads :title=' language.pay.orderDetailsr.title' :returnR='returnR'></heads>\r\n\r\n        <paymodel @cancel=\"wallet_pay_cancel\" @success=\"check_pay_password\" v-model=\"pay_display\"/>\r\n        <mock :load=\"load\"></mock>\r\n        \r\n        <div class=\"order_detail\" v-if=\"load\">\r\n            <choose-address\r\n                :shop_address=\"shop_list\"\r\n                :shop_id=\"shop_id\"\r\n                :shop_status=\"shop_status === 1\"\r\n                v-model=\"address\"\r\n                :address_status=\"adds_f\"\r\n                :is_express=\"is_express\"\r\n                @change=\"sChange\"\r\n            />\r\n\r\n            <!--灰色间隔-->\r\n            <div class=\"yh-line\"></div>\r\n            <!--商品列表-->\r\n            <div>\r\n                <ul :key='indexs' v-for='(items,indexs) in pro'>\r\n                    <li class='storeLi' v-if='items.shop_id'>\r\n                        <img :src=\"storeImg\" class=\"yh-storeLi-imga\">\r\n                        {{items.shop_name}}\r\n                        <img :src=\"jiantou\" class=\"yh-jiantou-img\">\r\n                    </li>\r\n                    <li :key='index' class='goods' v-for=\"(item,index) in items.list\">\r\n                        <img :src=\"item.img\"/>\r\n                        <div class='goods_right'>\r\n                            <p>{{item.product_title}}</p>\r\n                            <span class=\"size\">{{item.color?item.color:''}}{{item.name?item.name:''}}{{item.size?item.size:''}}</span>\r\n                            <div class='goods_bottom'>\r\n                                <p v-if=\"is_grade\" style=\"font-weight: normal;\">\r\n                                    {{language.pay.orderDetailsr.vip_price}}￥<span style=\"font-weight: bold;\">{{membership_price}}</span>\r\n                                    <span style=\"font-size: 22rpx;color: #999999;text-decoration: line-through;margin-left: 8rpx;\">￥{{products_total}}</span>\r\n                                </p>\r\n                                <p v-else>\r\n                                    <span class=\"yh-goods_bottom-span\">￥</span>{{products_total}}\r\n                                </p>\r\n\r\n                                <div class='format'>\r\n                                    <!-- <p class=\"yh-format-p\" style=\"max-width: 140px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                                        {{item.color?item.color:''}}{{item.name?item.name:''}}{{item.size?item.size:''}}</p> -->\r\n                                    <p class=\"yh-format-pa\" style=\"margin-right: 0;color: #020202;\">x{{item.num}}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n\r\n                    <div class=\"yh-items\"></div>\r\n                </ul>\r\n            </div>\r\n            \r\n\r\n\r\n\r\n            <!--运费、优惠券、合计信息-->\r\n            <ul>\r\n                <li class='order_coupon' v-if=\"grade_rate!=1\">\r\n                    <span>{{language.pay.orderDetailsr.Discount[4]}}</span>\r\n                    <span>{{grade_rate*10}}{{language.pay.orderDetailsr.fracture}}</span>\r\n                </li>\r\n                <li class='order_coupon' v-if=\"is_distribution==1 && discount!=1\">\r\n                    <span>{{language.pay.orderDetailsr.Discount[5]}}</span>\r\n                    <span>{{discount*10}}{{language.pay.orderDetailsr.fracture}}</span>\r\n                </li>\r\n                <li class='order_coupon'>\r\n                    <span>{{language.pay.orderDetailsr.freight}}</span>\r\n                    <span v-if=\"freightt==0\">{{language.pay.orderDetailsr.Free_mail}}</span>\r\n                    <span v-else>￥{{freightt}}</span>\r\n                </li>\r\n                <li class='order_coupon'>\r\n                    <span>{{language.pay.orderDetailsr.Order_notes}}</span>\r\n                    <span class=\"yh-order_coupon-spana\"><input :placeholder=\"language.pay.orderDetailsr.Order_notes.order_placeholder\" placeholder-style=\"color:#b8b8b8\" type=\"text\"\r\n                                                               v-model=\"remarks\"></span>\r\n                </li>\r\n                <li class='order_coupon' style=\"flex-direction: column;align-items: flex-end;padding: 24rpx 30rpx;\">\r\n                            <span class=\"yh-order_coupon-spanb\" >\r\n                                    {{language.bidding_order.subtotal}}：<span class=\"yh-order_coupon-fonta\">￥{{ sub_total}}</span>\r\n                            </span>\r\n                    <span class=\"vip_rate\" v-if=\"grade_rate_amount\">{{language.bidding_order.discount}}：￥{{grade_rate_amount}}</span>\r\n                </li>\r\n            </ul>\r\n\r\n            <choose-pay\r\n                :aliPayStatue=\"aliPayStatue\"\r\n                :baidupayStatue=\"baidupayStatue\"\r\n                :open_alipay=\"open_alipay\"\r\n                :open_baidu=\"open_baidu\"\r\n                :open_wallet=\"open_wallet\"\r\n                :open_wxpay=\"open_wxpay\"\r\n                :useWallet=\"useWallet\"\r\n                :user_money=\"user_money\"\r\n                :wxPayStatue=\"wxPayStatue\"\r\n                @chooseWay=\"chooseWay($event)\"\r\n            />\r\n\r\n            <submit-order\r\n                :ishide=\"ishide\"\r\n                :total=\"total\"\r\n                :rate=\"grade_rate_amount\"\r\n                @submit=\"order_pay()\"\r\n            />\r\n        </div>\r\n        \r\n        <!-- 高度屏幕小的时候解决选择不到微信支付的问题 -->\r\n        <div class=\"yh-wx-pay\">\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import wxParse from '../../components/mpvue-wxparse/src/wxParse.vue'\r\n    import paymodel from '@/components/paymodel.vue'\r\n    import mixinsOrder from '../../mixins/order'\r\n    import mixinCoupon from '../../mixins/coupon'\r\n    import choosePay from '@/components/choose-pay.vue'\r\n    import chooseAddress from '@/components/order/choose-address.vue'\r\n    import submitOrder from '@/components/order/submit-order.vue'\r\n    import mock from '@/components/skeleton/orderDetailsrMock'\r\n\r\n    export default {\r\n        data () {\r\n            return {\r\n                payment: '',    \r\n                isDistribution: false, //是否是分销商品？true是，false不是\r\n                jiantou: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/jiantou2x.png',\r\n                load: false,\r\n                returnR: 0,\r\n                cpId: '',\r\n                title: '确认订单信息',\r\n                is_subtraction: 1,\r\n                reduce_name: '',\r\n                pro: [], //购买商品列表\r\n                storeImg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/store.png',\r\n                quan_hei: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/xuanzehei2x.png',\r\n                quan_hui: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/xuanzehui2x.png',\r\n                ishide: 0,//是否隐藏底部支付栏 1隐藏 0不隐藏\r\n                sNo: '',\r\n                name: '',\r\n                is_distribution: 0,\r\n                cart_id: '',\r\n                pay_name: '', //pt是普通订单过来的\r\n                firstFlag: true,\r\n                tmplIds: ['2KrrJchj92YRKhZZ0SSHz76dmrT0cLBJ2Wfe0', 'ncs3u3Bmmi0jW7EXAik4KQvxF3JxbaulWNwbLXDto', 'CZAPo_TqOOeC5K7XYvBeB_LXmyXKIhXkZROArNZDwQ8'],//微信订阅消息模板\r\n                grade_rate_amount: 0,\r\n\r\n                couponList: [], // 平台优惠券\r\n                couponList1: [], // 平台优惠券\r\n                couponIndex: -1,\r\n                mchCouponIndex: [],\r\n\r\n                canshu: true,\r\n                is_plugin: false, // 是否是插件商品\r\n                is_grade: false, //是否是会员\r\n                total_discount: 0, //会员优惠总金额\r\n            }\r\n        },\r\n        mixins: [ mixinsOrder, mixinCoupon],\r\n        computed: {\r\n            sub_total () {\r\n                return (Number.parseFloat(this.freight) +  Number.parseFloat(this.products_total)).toFixed(2)\r\n            },\r\n            membership_price () {\r\n                let sub_total = Number.parseFloat(this.freight) +  Number.parseFloat(this.products_total);\r\n                return (sub_total -  this.grade_rate_amount -  Number.parseFloat(this.freight)).toFixed(2)\r\n            }\r\n        },\r\n        onLoad (option) {\r\n            this.getCode()\r\n            this.canshu = uni.getStorageSync('canshu')\r\n            this.$store.state.address_id = this.$store.state.address_id_def\r\n            this.cpId = option.product\r\n            \r\n\r\n            this.returnR = option.returnR\r\n\r\n            if (this.cpId && JSON.parse(this.cpId).findIndex(item => item.sec_id) === 3) {\r\n                this.sec_id = JSON.parse(this.cpId)[3].sec_id\r\n                this.seckill = true\r\n                this.activity_id = this.$store.state.seckilldata.activity_id\r\n                this.platform_activities_id = this.$store.state.seckilldata.platform_activities_id\r\n            }\r\n\r\n            if (option.buy_again == true || option.buy_again == 'true') {\r\n                this.buy_again = true\r\n            }\r\n            this.order_id = this.$store.state.order_id\r\n            this.cart_id = this.$store.state.cart_id\r\n            if (this.cart_id instanceof Array) {\r\n                this.cart_id = '';\r\n            }\r\n            \r\n            if (this.cart_id) {\r\n                // console.log('cart_id', this.cart_id );\r\n                uni.setStorageSync('cart_id', this.cart_id)\r\n            }\r\n            \r\n            \r\n            if (option.cart_id) {\r\n                this.cart_id = option.cart_id\r\n                this.$store.state.cart_id = this.cart_id\r\n                uni.setStorageSync('cart_id', this.cart_id)\r\n            }\r\n\r\n\r\n            // #ifdef H5 \r\n            let storage = window.localStorage\r\n            if (storage['bargain']) {\r\n                this.cpId = storage['product']\r\n            }\r\n\r\n            if (storage['bargain']) {\r\n                this.bargain = storage['bargain'] ? storage['bargain'] : this.bargain\r\n                this.bargain_id = storage['bargain_id'] ? storage['bargain_id'] : this.bargain_id\r\n                this.order_no = storage['order_no'] ? storage['order_no'] : this.order_no\r\n            }\r\n\r\n            \r\n\r\n            if (storage['cart_id'] != null && storage['cart_id'] !== '') {\r\n                // console.log('清理cart_id');\r\n                this.cart_id = storage['cart_id']\r\n                // storage['cart_id'] = ''\r\n            }\r\n            \r\n\r\n            if (!this.$store.state.address_id) {\r\n                this.$store.state.address_id = storage['address_id']\r\n            }\r\n\r\n            // #endif\r\n\r\n            if (this.cpId) {\r\n                uni.setStorageSync('goodsInfo', this.cpId)\r\n            }\r\n\r\n            if (option.canshu) {\r\n                uni.setStorageSync('canshu', option.canshu)\r\n            }\r\n\r\n            if (option.isDistribution == 1 && option.isDistribution != 'false') {\r\n                this.isDistribution = true\r\n            }\r\n\r\n            this.bargain = option.bargain\r\n            this.bargain_id = option.bargain_id\r\n            this.order_no = option.order_no\r\n\r\n            // #ifdef H5 \r\n            //解决获取code后价格变为普通商品价格的问题\r\n\r\n\r\n            if (option.product) {\r\n                let kanjia = JSON.parse(option.product)\r\n                if (kanjia[3]) {\r\n                    this.bargain = kanjia[3] && kanjia[3].bargain ? kanjia[3].bargain : this.bargain\r\n                    this.bargain_id = kanjia[4] && kanjia[4].bargain_id ? kanjia[4].bargain_id : this.bargain_id\r\n                    this.order_no = kanjia[5] && kanjia[5].order_no ? kanjia[5].order_no : this.order_no\r\n                }\r\n            }\r\n            // #endif\r\n\r\n\r\n\r\n            this.pay_name = this.$store.state.pay_lx\r\n            // console.log('验证code');\r\n            this.checkCode()\r\n            this._axios()\r\n        },\r\n        onShow () {\r\n            // 每次进入页面接受自提选择的页面\r\n            if (this.hc_address_id != this.$store.state.address_id) {\r\n                this.hc_address_id = this.address_id = this.$store.state.address_id\r\n            }\r\n\r\n            if (uni.getStorageSync('store_choose')) {\r\n                uni.removeStorageSync('store_choose')\r\n            }\r\n\r\n            this.shop_address_id = uni.getStorageSync('shop_address_id')\r\n            this._axios('onshow')\r\n\r\n            // #ifdef MP-WEIXIN\r\n            this.LaiKeTuiCommon.getWXTmplIds(this)\r\n            // #endif\r\n            this.fastTap = false;\r\n        },\r\n        onUnload () {\r\n            // #ifdef H5\r\n            if (location.hostname === 'localhost') return false;\r\n            setTimeout(() => {\r\n\r\n                let state = window.location.href.replace(/\\?code=.*?\\//, '#/')\r\n                // console.log(state);\r\n                history.replaceState(null, null, state)\r\n            }, 300)\r\n            // #endif\r\n\r\n        },\r\n        methods: {\r\n            mchCouponChange(e){\r\n                let i = Number(e.currentTarget.dataset.id)\r\n\r\n                this.mchCouponIndex.splice(i,1,e.detail.value)\r\n\r\n                let coupon_id = []\r\n                this.pro.filter((items,indexs)=>{\r\n                    this.mchCouponIndex.filter((item,index)=>{\r\n\r\n                        if(indexs == index){\r\n                            if(item>=0){\r\n                                coupon_id.push(items.coupon_list[item].coupon_id)\r\n                            }else{\r\n                                coupon_id.push('0')\r\n                            }\r\n                        }\r\n\r\n                    })\r\n                })\r\n                if(this.couponIndex>=0){\r\n                    coupon_id.push(this.couponList1[this.couponIndex].coupon_id)\r\n                }else{\r\n                    coupon_id.push('0')\r\n                }\r\n\r\n                this.coupon_id = coupon_id.join()\r\n\r\n                this._axios()\r\n            },\r\n            bindCouponChange(e){\r\n                this.couponIndex = e.detail.value\r\n\r\n                // this.mchCouponIndex  店铺优惠券选中的下标 []\r\n                // this.couponIndex  平台优惠券选中的下标\r\n                // this.couponList  平台优惠券展示的数组['','','']\r\n                // this.couponList1  平台优惠券的数据[{},{},{}]\r\n\r\n                let coupon_id = []\r\n                this.pro.filter((items,indexs)=>{\r\n                    this.mchCouponIndex.filter((item,index)=>{\r\n\r\n                        if(indexs == index){\r\n                            if(item>=0){\r\n                                coupon_id.push(items.coupon_list[item].coupon_id)\r\n                            }else{\r\n                                coupon_id.push('0')\r\n                            }\r\n                        }\r\n\r\n                    })\r\n                })\r\n                if(this.couponIndex>=0){\r\n                    coupon_id.push(this.couponList1[this.couponIndex].coupon_id)\r\n                }else{\r\n                    coupon_id.push('0')\r\n                }\r\n                this.coupon_id = coupon_id.join()\r\n\r\n                this._axios()\r\n            },\r\n            sChange (is_express) {\r\n                this.is_express = is_express;\r\n                if (is_express) {\r\n                    this.shop_list = {\r\n                        id: 0\r\n                    }\r\n                    this._axios('onshow')\r\n                } else {\r\n                    this.freight = this.freightt = 0\r\n                    for (let i  = 0; i < this.pro.length; i ++) {\r\n                        this.pro[i].shop_subtotal = this.pro[i].shop_subtotal - this.pro[i].freight_price\r\n                        this.pro[i].freight_price = 0\r\n                    }\r\n                }\r\n                \r\n            },\r\n\r\n            _axios(type = '') {\r\n                let product = uni.getStorageSync('goodsInfo')\r\n                let data = null;\r\n                data = {\r\n                    module: 'app',\r\n                    action: 'order',\r\n                    product_type: 'KJ',\r\n                    app: 'Settlement',\r\n                    bargain_id: this.bargain_id,\r\n                    address_id: this.address_id,\r\n                    coupon_id: this.coupon_id?this.coupon_id:'0',\r\n                }\r\n                if (this.cpId) {\r\n                    data.product = product || this.cpId;\r\n                    data.cart_id = ''\r\n                }\r\n\r\n                if (!this.is_express) {\r\n                    data.shop_address_id = this.shop_address_id\r\n                }\r\n                this.$req.post({data}).then(res => {\r\n                    this.canshu = false\r\n                    // 报错库存不足的时候 status = 1, 其他的时候会返回 code 不等于 200 的值\r\n                    if (res.status === 0 || (res.hasOwnProperty('code') && res.code !== 200) ) {\r\n                        this.load = true\r\n                        uni.showToast({\r\n                            title: res.msg,\r\n                            duration: 1500,\r\n                            icon: 'none'\r\n                        });\r\n                        setTimeout(() => {\r\n                            this.navBack()\r\n                        }, 1500)\r\n\r\n                        return false\r\n                    }\r\n\r\n                    let {\r\n                        address,\r\n                        coupon_id,\r\n                        payment,\r\n                        freight,\r\n                        password_status,\r\n                        products,\r\n                        products_total,\r\n                        total,\r\n                        user_money,\r\n                        enterless,\r\n                        time_id,\r\n                        is_distribution,\r\n                        discount,\r\n                        grade_rate,\r\n                        coupon_list,\r\n                        total_discount,\r\n                        grade_rate_amount\r\n                    } = res;\r\n                    \r\n                    this.total_discount = total_discount\r\n                    \r\n                    // 砍价商品请求的数据\r\n                    let coupon_money = res.coupon_money || 0\r\n                    let reduce_money = res.reduce_money || 0\r\n                    this.coupon_money = coupon_money\r\n\r\n                    this.total = Number.parseFloat(total).toFixed(2)\r\n\r\n                    // 处理收货地址的逻辑\r\n                    this.handleOrderAddress(address, res.shop_list, res.shop_status)\r\n\r\n\r\n\r\n                    if(coupon_list&&coupon_list.length>0){\r\n                        this.couponList1 = coupon_list\r\n                        this.couponList = []\r\n                        coupon_list.filter((item,index)=>{\r\n                            this.couponList.push(item.coupon_name)\r\n\r\n                            if(item.coupon_status){\r\n                                this.couponIndex = index\r\n                            }\r\n                        })\r\n                    }\r\n\r\n                    this.time_id = time_id\r\n                    this.payment = payment\r\n                    if (products && products.length > 0) {\r\n                        // 竞拍商品请求数据\r\n                        this.pro = products\r\n                        this.payTitle = products[0].list[0].product_title\r\n                        this.is_plugin = !products[0].hasOwnProperty('shop_subtotal')\r\n\r\n                    }\r\n\r\n                    this.user_money = Number.parseFloat(user_money)\r\n                    if (address) {\r\n                        if (!this.$store.state.address_id_def) {\r\n                            this.$store.state.address_id_def = address.id\r\n                        }\r\n                    }\r\n\r\n                    this.password_status = password_status\r\n                    if (type !== 'onshow') {\r\n                        this.coupon_id = coupon_id\r\n                    } else {\r\n                        if (uni.getStorageSync('chooseAddress')) {\r\n                            this.address = uni.getStorageSync('chooseAddress')\r\n                        }\r\n                    }\r\n\r\n\r\n                    this.coupon_status = res.coupon_status\r\n                    this.enterless = enterless\r\n                    this.is_distribution = is_distribution\r\n                    this.discount = discount ? discount : 1\r\n                    // this.grade_rate = grade_rate ? grade_rate : 1\r\n                    this.is_grade = (grade_rate>0&&grade_rate<1)?true:false\r\n                    if (!this.is_grade) {\r\n                        this.grade_rate_amount = 0;\r\n                    } else {\r\n                        this.grade_rate_amount = grade_rate_amount\r\n                        if (grade_rate_amount == 0) {\r\n                            this.is_grade = false;\r\n                        }\r\n                    }\r\n                    \r\n                    this.total = Number.parseFloat(total)\r\n                    this.reduce_money = reduce_money\r\n                    this.reduce_name = res.reduce_name\r\n                    this.is_subtraction = res.is_subtraction\r\n                    this.products_total = products_total\r\n\r\n\r\n                    // 运费赋值留到最后，计算价格是放在运费的监听函数里\r\n                    this.freightt = parseFloat(freight).toFixed(2)\r\n                    this.freight = freight\r\n\r\n                    this.show_pay_way()\r\n\r\n\r\n                    uni.setStorageSync('cart_id', this.cart_id)\r\n                    this.load = true\r\n                    \r\n\r\n                }).catch(e => {\r\n                    // console.log(e);\r\n                    this.load = true \r\n                })\r\n\r\n            }\r\n        },\r\n        components: {\r\n            wxParse,\r\n            paymodel,\r\n            choosePay,\r\n            chooseAddress,\r\n            submitOrder,\r\n            mock\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import url(\"../../static/css/pay/orderDetailsr.less\");\r\n</style>\r\n","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bargainDetailsr.vue?vue&type=style&index=0&id=3f91edbe&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bargainDetailsr.vue?vue&type=style&index=0&id=3f91edbe&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609849167578\n      var cssReload = require(\"F:/BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}