{"version":3,"sources":["uni-app:///main.js","webpack:///F:/ss/pagesA/group/payfor.vue?be90","webpack:///F:/ss/pagesA/group/payfor.vue?3e11","webpack:///F:/ss/pagesA/group/payfor.vue?538b","webpack:///F:/ss/pagesA/group/payfor.vue?47f3","uni-app:///pagesA/group/payfor.vue","webpack:///F:/ss/pagesA/group/payfor.vue?3b1f","webpack:///F:/ss/pagesA/group/payfor.vue?fb6d"],"names":["createPage","Page"],"mappings":"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","file":"pagesA/group/payfor.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesA/group/payfor.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./payfor.vue?vue&type=template&id=1949a636&scoped=true&\"\nvar renderjs\nimport script from \"./payfor.vue?vue&type=script&lang=js&\"\nexport * from \"./payfor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./payfor.vue?vue&type=style&index=0&id=1949a636&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1949a636\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/group/payfor.vue\"\nexport default component.exports","export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payfor.vue?vue&type=template&id=1949a636&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payfor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payfor.vue?vue&type=script&lang=js&\"","<template>\n    <div ref='cart' class=\"cart_f\">\n        <heads :title='language.groupPayfor.title'></heads>\n\n        <paymodel @cancel=\"wallet_pay_cancel_pt\" @success=\"check_pay_password\" v-model=\"pay_display\"/>\n\n        <toload :load=\"load\">\n            <div class=\"order_detail\">\n                <choose-address\n                    :shop_address=\"[]\"\n                    v-model=\"address\"\n                    :address_status=\"adds_f === 1\"\n                    :is_express=\"is_express\"\n                />\n                \n            </div>\n            \n            <div class=\"marginb\">\n                <!--灰色间隔-->\n                <div class=\"yh-line\"></div>\n                <!--商品列表-->\n                <ul>\n                    <li class='storeLi' @click=\"navTo('/pagesA/store/store?shop_id=' + mch_id)\">\n                        <img :src=\"storeimg\" class=\"yh-storeLi-imga\">\n                        {{mch_name}}\n                        <img :src=\"jiantou\" class=\"yh-jiantou-img\">\n                    </li>\n                    <li class='goods'>\n\n                        <img :src=\"pro.image\"/>\n                        <div class='goods_right'>\n                            <p>{{pro.pro_name}}</p>\n                            <p style=\"color: #9D9D9D;margin-top: auto;\">{{pro.size}}</p>\n                            <div class='goods_bottom'>\n                                <p class=\"goods_huiyuan\">\n                                    <span v-if=\"is_grade\">{{language.groupPayfor.vipPrice}}{{huiyuan}}</span>\n                                    <span style=\"font-size: 22rpx;\" :style=\"is_grade ? 'text-decoration:line-through;color:#9D9D9D':'' \">\n                                        ￥{{products_total}}\n                                        <!-- {{language.groupPayfor.yuan}} -->\n                                    </span>\n                                </p>\n                                <div class='format' style=\"clear: both;\">\n                                    \n                                    <p>x{{num}}</p>\n                                    <p class=\"grouppeo\" :style=\"{width: languageType=='en'?'112rpx':''}\">{{groupman}}{{language.groupPayfor.peopleGroup}}</p>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n\n                <ul>\n\t\t\t\t\t<li style=\"border-top: 1px solid #eee;margin-left: 20px;\"></li>\n                    <li class='order_coupon' v-if=\"grade_rate != 1\">\n                        <span>{{language.groupPayfor.vipDiscount}}</span>\n                        <span>{{grade_rate*10}} {{language.groupPayfor.fold}}</span>\n                    </li>\n                    <li class='order_coupon'>\n                        <span>{{language.groupPayfor.freight}}</span>\n                        <span v-if=\"freightt==0\">{{language.groupPayfor.freeShipping}}</span>\n                        <span v-else>￥{{freightt}}</span>\n                    </li>\n                    <li class=\"order_coupon\">\n                        <span></span>\n\t\t\t\t\t<span class=\"yh-order_coupon-spanb yh-discount\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{{language.groupPayfor.Total}}<font class=\"yh-order_coupon-fonta\">￥{{ total }}</font>\n\t\t\t\t\t\t</span>\n                        <span style=\"color: #FF7D00;font-size: 14px;\" v-if=\"is_grade\">{{language.groupPayfor.vipDiscount1}}¥{{membership_price}}</span>\n\t\t\t\t\t</span>\n                    </li>\n                   \n                </ul>\n                \n                <!--灰色间隔-->\n                <div class=\"yh-line\"></div>\n                \n                <choose-pay\n                    :aliPayStatue=\"aliPayStatue\"\n                    :baidupayStatue=\"baidupayStatue\"\n                    :open_alipay=\"open_alipay\"\n                    :open_baidu=\"open_baidu\"\n                    :open_wallet=\"open_wallet\"\n                    :open_wxpay=\"open_wxpay\"\n                    :useWallet=\"useWallet\"\n                    :user_money=\"user_money\"\n                    :wxPayStatue=\"wxPayStatue\"\n                    @chooseWay=\"chooseWay($event)\"\n                />\n\n                <submit-order\n                    :ishide=\"ishide\"\n                    :total=\"total\"\n                    :rate=\"membership_price\"\n                    @submit=\"order_pay()\"\n                />\n\n                <!-- 高度屏幕小的时候解决选择不到微信支付的问题 -->\n                <div class=\"yh-wx-pay\">\n                </div>\n                \n            </div>\n        </toload>\n    </div>\n</template>\n\n<script>\n\n    import paymodel from '@/components/paymodel.vue'\n    import mixinsOrder from '../../mixins/order'\n    import mixinCoupon from '../../mixins/coupon'\n    import choosePay from '@/components/choose-pay.vue'\n    import chooseAddress from '@/components/order/choose-address.vue'\n    import submitOrder from '@/components/order/submit-order.vue'\n    import wxParse from '@/components/mpvue-wxparse/src/wxParse'\n    import { later } from '@/common/util'\n\n    export default {\n        data () {\n            return {\n                groupman: '', //拼团人数\n                activity_no: '', //拼团活动号\n                jiantou: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/jiantou2x.png',\n                storeimg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/store.png',\n                pro: '',\n                load: false,\n                ishide: 0,\n                num: 1,\n                mch_id: 0,\n                mch_name: '',\n                a_type: '',\n                groupres: null,\n                ptcode: '',\n                payTitle: '',\n                is_plugin: false, // 是否是插件商品\n                is_grade: false, //是否是会员\n                total_discount: 0, //会员优惠金额\n                grade_rate_amount: 0, //会员优惠总金额\n                cs:false\n            }\n        },\n        mixins: [ mixinsOrder, mixinCoupon],\n        beforeDestroy () {\n            \n            this.$store.state.order_id = ''\n        },\n        onLoad (option) {\n            this.getCode()\n            this.cpId = option.product\n            if (!this.cpId) {\n                this.cpId = ''\n            }\n            \n            if (option.a_type) {\n                this.a_type = 1;\n            }\n            \n            if(option.canshu){\n                this.cs = option.canshu\n            }\n            \n            this.returnR = option.returnR\n            this.product = JSON.parse(this.cpId)\n            console.log('this.cpId', this.cpId)\n            // #ifdef H5\n            let storage = window.localStorage\n            if (storage['product']) {\n                console.log('product', storage['product'])\n                this.product = JSON.parse(storage['product']);\n                this.product = '';\n            }\n            // #endif  \n            this.checkCode()\n        },\n        watch: {\n            products_total () {\n                this.total = ((this.products_total - this.coupon_money - this.reduce_money) * this.discount * this.grade_rate + this.freight).toFixed(2)\n            }  \n        },\n        onShow () {\n            this.orde_id = this.$store.state.order_id\n            this.cart_id = this.$store.state.cart_id\n            this.address_id = this.$store.state.address_id\n            if (!this.address_id) {\n                this.address_id = this.$store.state.address_id_def\n            }\n            \n            this._axios()\n        },\n        computed: {\n            huiyuan () {\n                var num = this.products_total * this.grade_rate\n                return this.formatDecimal(num,2)\n            },\n            membership_price () {\n                var num = Math.round((parseFloat(this.products_total) - parseFloat(this.huiyuan))*100)/100\n                 \n                return this.formatDecimal(num,2)\n               // return Number(this.products_total) -  Number(this.huiyuan)\n            }\n        },\n        methods: {\n            /**\n             * 余额支付\n             * @returns {Promise<void>}\n             * @private\n             */\n            async _wallet_pay () {\n                let postData = {\n                    module: 'app',\n                    action: 'pay',\n                    app: 'wallet_pay',\n                    m: 'wallet_pay',\n                    type: 'wallet_pay',\n                    orde_id: this.order_id,\n                    sNo: this.sNo,\n                    pro_id: this.product.pid,\n                    man_num: this.product.groupnum, //拼团人数\n                    grade_rate: this.grade_rate, //会员折扣\n                    page: this.product.frompage, //开团还是参团\n                    payment_money: this.total\n                }\n\n\n                if (this.product.frompage == 'cantuan') {\n                    postData.ptcode = this.product.ptcode\n                }\n\n                let { status, err, code } = await this.$req.post({ data: postData })\n                uni.hideLoading()\n                if (status === 0 || code === 0) {\n                    uni.showToast({\n                        title: err,\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                    return false;\n                }\n\n                uni.showToast({\n                    title: this.language.groupPayfor.payOk,\n                    duration: 1000,\n                    icon: 'none'\n                })\n                \n                await later(1000)\n\n                if (this.product.frompage == 'cantuan') {\n                    \n                    \n                    // #ifndef MP-WEIXIN\n                    let url = '/pagesA/group/group_end?sNo=' + this.sNo + '&activity_no=' + this.product.activity_no + '&returnR=2&otype=cantuan&cc=2'\n                    if (this.a_type == 1) {\n                        url += '&a_type=1'\n                    }\n                    uni.redirectTo({\n                        url: url\n                    })\n                    // #endif\n                    // #ifdef MP-WEIXIN\n                    let url2 = '/pagesA/group/group_end?sNo=' + this.sNo + '&activity_no=' + this.product.activity_no + '&returnR=2&otype=cantuan&cc=3'\n                    if (this.a_type == 1) {\n                        url2 += '&a_type=1'\n                    }\n                    \n                    uni.navigateBack({\n                        url: url2\n                    })\n                    // #endif\n\n                } else {\n                    let url3 = '/pagesA/group/group_end?sNo=' + this.sNo + '&activity_no=' + this.product.activity_no + '&returnR=1&cc=4'\n                    if (this.a_type == 1) {\n                        url3 += '&a_type=1'\n                    }\n                    \n                    uni.redirectTo({\n                        url: url3\n                    })\n                }\n                \n            },\n            /**\n             * 取得请求支付所需的 pay_order_info\n             * @returns {Promise<void>}\n             * @private\n             */\n            async _getPayOrderInfo () {\n                let action = 'groupbuy';\n                if (this.a_type == 1) {\n                    action = 'pthd_groupbuy';\n                }\n                \n                let postData = {\n                    module: 'app',\n                    action: action,\n                    m: 'createOrder',\n                    pro_id: this.product.pid,\n                    num: this.product.num, //购买数量\n                    man_num: this.product.groupnum, //拼团人数\n                    activity_no: this.product.activity_no, //活动编号\n                    platform_activities_id: this.product.platform_activities_id,\n                    frompage: this.product.frompage, //开团还是参团\n                    sizeid: this.product.cid, //商品规格id\n                    address_id: this.address_id,//地址id \n                    type: 'PT',  \n                }\n\n                if (this.product.frompage === 'cantuan') {\n                    postData.ptcode = this.product.ptcode\n                } else {\n                    postData.ptcode = ''\n                }\n                \n                let { pay_type } = this.getPayTypeAndStoreType()\n                postData.pay_type = pay_type\n                \n                let {\n                    order,\n                    order_id,\n                    total,\n                    code,\n                    msg\n                } = await this.$req.post({ data: postData })\n                if (code === 500) {\n                    uni.showToast({\n                        title: msg,\n                        duration: 1500,\n                        icon: 'none'\n                    })\n                    return Promise.reject()\n                }\n                this.sNo = order\n                this.order_id = order_id\n                this.order_pay_info = JSON.stringify({\n                    order_id: order_id,\n                    sNo: order,\n                    total: total\n                })  \n            },\n            /**\n             * 点击立即支付按钮触发\n             * @returns {Promise<boolean>}\n             */\n            async order_pay () {\n                if (!this.address_id) {\n                    return uni.showToast({\n                        title: this.language.groupPayfor.setAddsTips,\n                        icon: 'none'\n                    })\n                }\n                if (this.fastTap) return false\n                this.fastTap = true\n                this._checkSelectPayWay()\n\n                if (Number(this.pro.have) >= Number(this.groupres.groupnum)) {\n                    uni.showToast({\n                        title: this.language.groupPayfor.goupTips1 + this.groupres.groupnum + this.language.groupPayfor.goupTips2,\n                        duration: 1000,\n                        icon: 'none'\n                    })\n                    return false\n                }\n                \n\n                // #ifdef MP-WEIXIN\n                uni.showLoading({\n                    title: this.language.showLoading.waiting\n                })\n                wx.requestSubscribeMessage({\n                    tmplIds: this.tmplIds,\n                    complete:async () => {\n                        uni.hideLoading()\n                        if (this.useWallet) {\n                            if (this.password_status == 0) {\n                                uni.showModal({\n                                    title: this.language.showModal.hint,\n                                    content: this.language.showModal.mima,\n\t\t\t\t\t\t\t\t\tconfirmText: this.language.showModal.confirm,\n\t\t\t\t\t\t\t\t\tcancelText: this.language.showModal.cancel,\n                                    showCancel: true,\n                                    success: (resM) =>  {\n                                        this.fastTap = true\n                                        if (resM.confirm) {\n                                            uni.navigateTo({\n                                                url: '/pagesB/setUp/payment'\n                                            })\n                                        }\n                                    }\n                                })\n                                return false;\n                            }\n                            \n                            // if (!this.sNo) {\n                                await this._getPayOrderInfo()\n                            // }\n                            this._orderUseWalletPay()\n                        } else {\n                            uni.showLoading({\n                                title: this.language.showLoading.axiospaying,\n                                mask: true,\n                            })\n                            await this._getPayOrderInfo()\n                            this._notUserWalletPay()\n                        }\n                    }\n                })\n                // #endif\n\n                // #ifndef MP-WEIXIN\n                if (this.useWallet) {\n                    if (this.password_status == 0) {\n                        uni.showModal({\n                            title: this.language.showModal.hint,\n                            content: this.language.showModal.mima,\n\t\t\t\t\t\t\tconfirmText: this.language.showModal.confirm,\n\t\t\t\t\t\t\tcancelText: this.language.showModal.cancel,\n                            showCancel: true,\n                            success: (resM) =>  {\n                                this.fastTap = true\n                                if (resM.confirm) {\n                                    uni.navigateTo({\n                                        url: '/pagesB/setUp/payment'\n                                    })\n                                }\n                            }\n                        })\n                        return false;\n                    }\n                    \n                    // if (!this.sNo) {\n                        await this._getPayOrderInfo()\n                    // }\n                    this._orderUseWalletPay()\n                } else {\n                    uni.showLoading({\n                        title: this.language.showLoading.axiospaying,\n                        mask: true,\n                    })\n                    await this._getPayOrderInfo()\n                    this._notUserWalletPay()\n                }\n                // #endif\n\n            },\n            _axios () {\n                let action = 'groupbuy';\n                if (this.a_type == 1) {\n                    action = 'pthd_groupbuy';\n                }\n                var data = {\n                    module: 'app',\n                    action: action,\n                    m: 'payfor',\n                    address_id: this.address_id,\n                    price: this.total\n                }\n\n                var product = JSON.parse(this.cpId)\n                data = Object.assign(data, product) //合并\n\n                this.$req.post({data}).then(res => {\n\n\n                    // 报错库存不足的时候 status = 1, 其他的时候会返回 code 不等于 200 的值\n                    if (res.status === 0 || (res.hasOwnProperty('code') && res.code !== 200) ) {\n                        this.load = true\n                        uni.showToast({\n                            title: res.msg,\n                            duration: 1500,\n                            icon: 'none'\n                        });\n                        setTimeout(() => {\n                            this.navBack()\n                        }, 1500)\n\n                        return false\n                    }\n                    \n                    let {grade_rate,products_total} = res\n                    this.adds_f = res.is_add\n                    this.address = res.buymsg\n\n                    if (this.address && this.address.id) {\n                        this.address_id = this.address.id\n                    }\n                    \n                    this.groupres = res.groupres\n                    this.mch_name = res.mch_data.name\n                    this.mch_id = res.mch_data.id\n                    this.payment = res.payment\n                    this.pro = res.proattr\n                    this.payTitle = this.pro.pro_name\n                    console.log('this.pro')\n                    console.log(this.pro)\n                    if (this.$store.state.address_id_def == '') {\n                        console.log('默认赋值')\n                        this.$store.state.address_id_def = res.buymsg.id\n                    }\n\n                    this.grade_rate = res.grade_rate\n                    this.user_money = Number.parseFloat(res.money)\n                    this.user_name = res.user_name\n                    this.product = product\n                    this.num = product.num\n                    // this.price = product.price\n                    this.price = (product.price*product.num).toFixed(2)\n                    this.groupman = product.groupnum\n                    this.password_status = res.password_status\n                    this.products_total = this.price\n                    \n                    this.is_grade = (grade_rate>0&&grade_rate<1)?true:false\n                    \n                    // 运费赋值留到最后，计算价格是放在运费的监听函数里\n                    this.freightt = parseFloat(res.yunfei).toFixed(2)\n                    this.freight = res.yunfei\n                    this.load = true\n                    this.show_pay_way()\n                })\n            },\n            formatDecimal(num, decimal) {\n                num = num.toString()\n                let index = num.indexOf('.')\n                if (index !== -1) {\n                    num = num.substring(0, decimal + index + 1)\n                } else {\n                    num = num.substring(0)\n                }\n                return parseFloat(num).toFixed(decimal)\n            }\n        },\n        components: {\n            wxParse,\n            paymodel,\n            choosePay,\n            chooseAddress,\n            submitOrder\n        }\n    }\n</script>\n\n<style  lang=\"less\" scoped>\n    @import url(\"../../static/css/pay/orderDetailsr.less\");\n    .grouppeo {\n        width: 90rpx;\n        height: 30rpx;\n        border: 2rpx #030303 solid;\n        color: #333;\n        margin-left: 20rpx;\n        text-align: center;\n        line-height: 130%;\n        border-radius: 8rpx;\n        font-size: 13px;\n        font-weight: 400 !important;\n    }\n    .yh-discount{\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n    }\n    .goods_huiyuan{\n        display: flex;\n        align-items: center;\n    }\n    .goods_huiyuan span:nth-child(1){\n        font-size: 26rpx;\n        font-weight: bold;\n    }\n    \n</style>\n","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payfor.vue?vue&type=style&index=0&id=1949a636&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./payfor.vue?vue&type=style&index=0&id=1949a636&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609849154578\n      var cssReload = require(\"F:/BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}