{"version":3,"sources":["uni-app:///main.js","webpack:///F:/ss/pagesA/myStore/setAttr.vue?948d","webpack:///F:/ss/pagesA/myStore/setAttr.vue?2bad","webpack:///F:/ss/pagesA/myStore/setAttr.vue?a166","webpack:///F:/ss/pagesA/myStore/setAttr.vue?e735","uni-app:///pagesA/myStore/setAttr.vue","webpack:///F:/ss/pagesA/myStore/setAttr.vue?025b","webpack:///F:/ss/pagesA/myStore/setAttr.vue?e1d6"],"names":["createPage","Page"],"mappings":"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A;AAIA;AACA,KA3HA;AA4HA;AACA,aA7HA,uBA6HA;AACA;AACA;AACA,8CADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,KAxIA;AAyIA;AACA,mBA1IA,2BA0IA,IA1IA,EA0IA,KA1IA,EA0IA,KA1IA,EA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCADA;AAEA,kDAFA;;AAIA;AACA,OAhBA,MAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAnLA;AAoLA,UApLA,oBAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,uBAFA;AAGA,wBAHA;AAIA,2BAJA;AAKA,uBALA;;AAOA;AACA;;AAEA;;AAEA;AACA,KA9MA;AA+MA,aA/MA,uBA+MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,uBAFA;AAGA,wBAHA;AAIA,2BAJA;AAKA,uBALA;;AAOA;AACA;;AAEA;AACA;AACA,KAxOA;AAyOA,cAzOA,sBAyOA,QAzOA,EAyOA,CAzOA,EAyOA,KAzOA,EAyOA,MAzOA,EAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBArBA,CAqBA;AACA,6CAtBA,CAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAXA,MAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,gCAFA;AAGA,qCAHA;;AAKA;AACA;AACA;AACA;AACA,OAnBA,MAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KA/SA;AAgTA;AACA,UAjTA,oBAiTA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,qBAFA;AAGA,YAHA;;AAKA,oCALA;AAMA,mFANA;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA,OAZA;AAaA,KA5UA;AA6UA;AACA,aA9UA,uBA8UA;AACA;AACA;AACA;AACA,oBADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBADA;;AAGA,KArWA,EAjEA,E;;;;;;;;;;;;;AC1JA;AAAA;AAAA;AAAA;AAAixC,CAAgB,8vCAAG,EAAC,C;;;;;;;;;;;ACAryC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesA/myStore/setAttr.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesA/myStore/setAttr.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./setAttr.vue?vue&type=template&id=24bf7e75&\"\nvar renderjs\nimport script from \"./setAttr.vue?vue&type=script&lang=js&\"\nexport * from \"./setAttr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setAttr.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/myStore/setAttr.vue\"\nexport default component.exports","export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setAttr.vue?vue&type=template&id=24bf7e75&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.attrStyle = 1\n    }\n\n    _vm.e1 = function($event) {\n      _vm.attrStyle = 2\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setAttr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setAttr.vue?vue&type=script&lang=js&\"","<template>\r\n    <div class=\"container\">\r\n        <heads :title=\"title\"></heads>\r\n        <div v-if=\"pageFlag\">\r\n            <ul class=\"choose_attr\">\r\n                <li @tap=\"_chooseAttr(item, index)\" :class=\"{ active: item.status }\" v-for=\"(item, index) in attrList\" :key=\"index\">\r\n                    {{ item.text }}\r\n                    <img v-if=\"item.status\" class=\"img\" :src=\"chooseImg\" />\r\n                </li>\r\n            </ul>\r\n            <div class=\"btn_bottom\" @tap=\"_saveAttr\">{{language.setAttr.storage}}</div>\r\n        </div>\r\n        <div v-else>\r\n            <div class=\"chooseAttrStyle\">\r\n                <div>{{language.setAttr.Add_how}}</div>\r\n                <ul>\r\n                    <li @tap=\"attrStyle = 1\">\r\n                        <img :src=\"attrStyle == 1 ? quan_hei : quan_hui\" />\r\n                        {{language.setAttr.title2}}\r\n                    </li>\r\n                    <li @tap=\"attrStyle = 2\">\r\n                        <img :src=\"attrStyle == 2 ? quan_hei : quan_hui\" />\r\n                        {{language.setAttr.Attr[0]}}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <template v-if=\"attrStyle == 1\">\r\n                <div class=\"chooseAttr\">\r\n                    <div>{{language.setAttr.Attr[1]}}</div>\r\n                    <input class=\"input\" type=\"text\" :placeholder=\"language.setAttr.Attr[2]\" placeholder-style=\"font-size:28upx\" :value=\"chooseAttr\" disabled @tap=\"_clickAttr\" />\r\n                    <img class=\"jiantou\" :src=\"jiantou\" />\r\n                </div>\r\n                <div class=\"hr\"></div>\r\n                <div class=\"attrBox\" v-for=\"(item, index) in attrDataList\" :key=\"index\" v-if=\"index\">\r\n                    <div class=\"attr_hr\"></div>\r\n                    <div class=\"attrBoxTitle\">\r\n                        {{ index }}\r\n                        <text class=\"text\">({{language.setAttr.Attr[3]}})</text>\r\n                        <img @tap=\"deleteAttr(index)\" class=\"delete_img\" :src=\"delete_img\" />\r\n                    </div>\r\n                    <div class=\"attrList\">\r\n                        <div :class=\"{ active: it.status }\" @tap=\"_chooseAttrData(it, item, index)\" v-for=\"(it, id) in item\" :key=\"id\">{{ it.value }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"hr\"></div>\r\n                <scroll-view scroll-x>\r\n                    <div class=\"table\">\r\n                        <div class=\"tr\">\r\n                            <div class=\"th\" v-for=\"(item, index) in attr_group\" :key=\"index\">{{ item.attr_group_name }}</div>\r\n                            <div class=\"th\">{{language.setAttr.price[0]}}</div>\r\n                            <div class=\"th\">{{language.setAttr.price[1]}}</div>\r\n                            <div class=\"th\">{{language.setAttr.price[2]}}</div>\r\n                            <div class=\"th\">{{language.setAttr.price[3]}}</div>\r\n                        </div>\r\n                        <div class=\"tr\" v-for=\"(items, index) in attr_arr\" :key=\"index\">\r\n                            <div class=\"td\" v-for=\"(item, index1) in items.attr_list\" :key=\"index1\">{{ item.attr_name }}</div>\r\n                            <div class=\"td\">\r\n                                <div>\r\n                                    {{ index == 0 ? items.cbj : '' }}\r\n                                    <input v-if=\"index > 0\" class=\"input\" type=\"number\" v-model=\"items.cbj\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"td\">\r\n                                <div>\r\n                                    {{ index == 0 ? items.yj : '' }}\r\n                                    <input v-if=\"index > 0\" class=\"input\" type=\"number\" v-model=\"items.yj\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"td\">\r\n                                <div>\r\n                                    {{ index == 0 ? items.sj : '' }}\r\n                                    <input v-if=\"index > 0\" class=\"input\" type=\"number\" v-model=\"items.sj\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"td\">\r\n                                <div>\r\n                                    {{ index == 0 ? items.kucun : '' }}\r\n                                    <input v-if=\"index > 0\" class=\"input\" type=\"number\" v-model=\"items.kucun\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </scroll-view>\r\n            </template>\r\n            <template v-else>\r\n                <div class=\"hr\"></div>\r\n                <div class=\"addAttr\" :class=\"{ 'border-bottom': addList.length > 0 }\">\r\n                    <div class=\"addLeft\">{{language.setAttr.Attr[1]}}</div>\r\n                    <input type=\"text\" :placeholder=\"language.setAttr.shop_Attr[0]\" v-model=\"addAttrName\" />\r\n                    <button @tap=\"addAttr\">{{language.setAttr.shop_Attr[1]}}</button>\r\n                </div>\r\n                <div v-for=\"(item, index) in addList\" :key=\"index\">\r\n                    <div class=\"addAttrName\">\r\n                        <div class=\"addLeft\">{{ item.attr_group_name }}</div>\r\n                        <input type=\"text\" :placeholder=\"language.setAttr.shop_Attr[2]\" v-model=\"item.childValue\" />\r\n                        <button class=\"addBtn\" @tap=\"addAttrValue(item)\">{{language.setAttr.add}}</button>\r\n                        <button class=\"removeBtn\" @tap=\"removeAttrName(index)\">{{language.setAttr.deletes}}</button>\r\n                    </div>\r\n                    <div class=\"addAttrValue\" v-if=\"item.attr_list.length > 0\">\r\n                        <div class=\"addLeft\"></div>\r\n                        <ul>\r\n                            <li v-for=\"(items, indx) in item.attr_list\" :key=\"indx\" @tap=\"removeAttrValue(item, indx)\">\r\n                                <div class=\"icon\"></div>\r\n                                {{ items.attr_name }}\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class=\"hr\"></div>\r\n                <scroll-view scroll-x>\r\n                    <div class=\"table\">\r\n                        <div class=\"tr\">\r\n                            <div class=\"th\" v-for=\"(item, index) in addList\" :key=\"index\" v-if=\"item.attr_list.length > 0\">{{ item.attr_group_name }}</div>\r\n                            <div class=\"th\">{{language.setAttr.price[0]}}</div>\r\n                            <div class=\"th\">{{language.setAttr.price[1]}}</div>\r\n                            <div class=\"th\">{{language.setAttr.price[2]}}</div>\r\n                            <div class=\"th\">{{language.setAttr.price[3]}}</div>\r\n                        </div>\r\n                        <div class=\"tr\" v-for=\"(items, index) in attr_arr\" :key=\"index\">\r\n                            <div class=\"td\" v-for=\"(item, index1) in items.attr_list\" :key=\"index1\">{{ item.attr_name }}</div>\r\n                            <div class=\"td\">\r\n                                <div>\r\n                                    {{ index == 0 ? items.cbj : '' }}\r\n                                    <input v-if=\"index > 0\" class=\"input\" type=\"number\" v-model=\"items.cbj\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"td\">\r\n                                <div>\r\n                                    {{ index == 0 ? items.yj : '' }}\r\n                                    <input v-if=\"index > 0\" class=\"input\" type=\"number\" v-model=\"items.yj\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"td\">\r\n                                <div>\r\n                                    {{ index == 0 ? items.sj : '' }}\r\n                                    <input v-if=\"index > 0\" class=\"input\" type=\"number\" v-model=\"items.sj\" />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"td\">\r\n                                <div>\r\n                                    {{ index == 0 ? items.kucun : '' }}\r\n                                    <input v-if=\"index > 0\" class=\"input\" type=\"number\" v-model=\"items.kucun\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </scroll-view>\r\n            </template>\r\n            <div class=\"btn_bottom\" @tap=\"_complete\">{{language.setAttr.complete}}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            jiantou: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/jiantou2x.png',\r\n            chooseImg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/chooseMe.png',\r\n            quan_hui: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/xuanzehui2x.png',\r\n            quan_hei: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/94661f89895ca9ab42b080e14c49c56.png',\r\n            delete_img: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/deletes2x.png',\r\n            title: '设置属性',\r\n            pageFlag: false, //页面切换的开关，默认是选择属性名称，false是设置属性的主页面\r\n            \r\n            attrList: [], //所有的属性名称\r\n            chooseAttr: '', //选中的属性名称\r\n            attrDataList: {}, //所有的属性值\r\n            attr_group: [], //最终返回给后台的属性数据[{attr_group_name:'尺寸',attr_list:[{attr_name:'L'}]}]\r\n            attr_arr: [], //最终返回给后台的表格数据[{attr_list:[],bar_code:'',cbj:''}]\r\n            costM: '', //默认成本价\r\n            oldM: '', //默认原价\r\n            sellM: '', //默认售价\r\n            stock: '', //默认库存\r\n            stockWarn: '', //库存预警\r\n\r\n            attrStyle: 1, //属性添加方式 1、选择  2、自定义\r\n            addList: [], //自定义的属性\r\n            addAttrName: '' //自定义属性名\r\n        };\r\n    },\r\n    watch: {\r\n        attrStyle(newVal) {\r\n            if (newVal == 1) {\r\n                this._table();\r\n            } else {\r\n                this._abbTable();\r\n            }\r\n        }\r\n    },\r\n    onLoad(option) {\r\n        \r\n\r\n        if (uni.getStorageSync('upload_chooseAttr')) {\r\n            this.attr_group = uni.getStorageSync('upload_attr_group');\r\n            this.attr_arr = uni.getStorageSync('upload_attr_arr');\r\n            this.chooseAttr = uni.getStorageSync('upload_chooseAttr');\r\n            this._axios(this.chooseAttr, 1);\r\n        } else if (uni.getStorageSync('upload_attr_group')) {\r\n            this.attrStyle = 2;\r\n            this.addList = uni.getStorageSync('upload_attr_group');\r\n            this.attr_arr = uni.getStorageSync('upload_attr_arr');\r\n            this.pageFlag = false;\r\n        }\r\n        // costM成本价  oldM原价  sellM售价  stock库存  stockWarn库存预警  unit商品单位  pageStatus[0-上传，1-编辑，2-查看]\r\n        this.costM = option.costM;\r\n        this.oldM = option.oldM;\r\n        this.sellM = option.sellM;\r\n        this.stock = option.stock;\r\n        this.stockWarn = option.stockWarn;\r\n    },\r\n    onShow() {\r\n        this.title = this.language.setAttr.title\r\n        if (uni.getStorageSync('upload_chooseAttr')) {\r\n            this.title = this.language.setAttr.title2\r\n        }else if(uni.getStorageSync('upload_attr_group')){\r\n            this.title = this.language.setAttr.title\r\n        }\r\n    },\r\n    methods: {\r\n        // 删除选择的属性名\r\n        deleteAttr(index) {\r\n            this.chooseAttr = this.chooseAttr\r\n                .replace(',' + index, '')\r\n                .replace(index + ',', '')\r\n                .replace(index, '');\r\n            this.$delete(this.attrDataList, index);\r\n\r\n            let indx = this.attr_group.filter((item, indx) => {\r\n                if (item.attr_group_name == index) {\r\n                    this.attr_group.splice(indx, 1);\r\n                }\r\n            });\r\n\r\n            this._table();\r\n        },\r\n        // 自定义属性名\r\n        addAttr() {\r\n            this.addAttrName = this.addAttrName.replace(/(^\\s*)|(\\s*$)/g, '');\r\n            if (!this.addAttrName) {\r\n                uni.showToast({\r\n                    title: this.language.setAttr.Tips[0],\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n\r\n            var name = this.addAttrName;\r\n\r\n            let flag = this.addList.find(item => item.attr_group_name == name);\r\n            if (flag) {\r\n                uni.showToast({\r\n                    title: this.language.setAttr.Tips[1],\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n\r\n            let data = {\r\n                module: 'app',\r\n                action: 'mch',\r\n                m: 'get_attribute_value',\r\n                \r\n                attribute_str: name\r\n            };\r\n            this.$req.post({ data }).then(res => {\r\n                if (res.code == 200 && res.list.list[name].length > 0) {\r\n                    let attrName = res.list.list[name];\r\n                    let attr_list = [];\r\n                    attrName.filter(item => {\r\n                        attr_list.push({\r\n                            attr_name: item.value\r\n                        });\r\n                    });\r\n                    this.addList.push({\r\n                        attr_group_name: name,\r\n                        childValue: '',\r\n                        attr_list\r\n                    });\r\n                    this._abbTable();\r\n                } else {\r\n                    this.addList.push({\r\n                        attr_group_name: name,\r\n                        childValue: '',\r\n                        attr_list: []\r\n                    });\r\n                }\r\n                this.addAttrName = '';\r\n            });\r\n        },\r\n        // 删除属性名\r\n        removeAttrName(index) {\r\n            this.addList.splice(index, 1);\r\n            this._abbTable();\r\n        },\r\n        // 自定义属性值\r\n        addAttrValue(item) {\r\n            item.childValue = item.childValue.replace(/(^\\s*)|(\\s*$)/g, '');\r\n            if (!item.childValue) {\r\n                uni.showToast({\r\n                    title: this.language.setAttr.Tips[2],\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n            let flag = item.attr_list.find(items => items.attr_name == item.childValue);\r\n            if (flag) {\r\n                uni.showToast({\r\n                    title: this.language.setAttr.Tips[3],\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n            item.attr_list.push({\r\n                attr_name: item.childValue\r\n            });\r\n            item.childValue = '';\r\n            this._abbTable();\r\n        },\r\n        // 删除属性值\r\n        removeAttrValue(item, index) {\r\n            item.attr_list.splice(index, 1);\r\n            this._abbTable();\r\n        },\r\n        // 点击选择属性\r\n        _clickAttr() {\r\n            this._axios(this.chooseAttr);\r\n        },\r\n        // 选择属性名称\r\n        _chooseAttr(item, index) {\r\n            item.status = !item.status;\r\n            if (item.status) {\r\n                // 选中进入\r\n                let str = (this.chooseAttr ? ',' : '') + item.text;\r\n                this.chooseAttr += str;\r\n            } else {\r\n                // 取消选中\r\n                this.chooseAttr = this.chooseAttr\r\n                    .replace(',' + item.text, '')\r\n                    .replace(item.text + ',', '')\r\n                    .replace(item.text, '');\r\n            }\r\n        },\r\n        // 保存属性名称\r\n        _saveAttr() {\r\n            if (!this.chooseAttr) {\r\n                uni.showToast({\r\n                    title: this.language.setAttr.Tips[4],\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n            this.attr_arr = [];\r\n            this.attr_group = [];\r\n            this._axios(this.chooseAttr, 1);\r\n        },\r\n        // 选择子属性\r\n        _chooseAttrData(item, items, index) {\r\n            item.status = !item.status;\r\n            if (item.status) {\r\n                // 选中子属性\r\n                let flag = true;\r\n                for (let i = 0; i < this.attr_group.length; i++) {\r\n                    if (this.attr_group[i].attr_group_name == index) {\r\n                        flag = false;\r\n                        this.attr_group[i].attr_list.push({ attr_name: item.value });\r\n                        break;\r\n                    }\r\n                }\r\n                if (flag) {\r\n                    this.attr_group.push({\r\n                        attr_group_name: index,\r\n                        attr_list: [{ attr_name: item.value }]\r\n                    });\r\n                }\r\n            } else {\r\n                // 取消选中\r\n                for (let i = 0; i < this.attr_group.length; i++) {\r\n                    if (this.attr_group[i].attr_group_name != index) {\r\n                        continue;\r\n                    }\r\n                    let attr_list = this.attr_group[i].attr_list;\r\n                    for (let j = 0; j < attr_list.length; j++) {\r\n                        if (attr_list[j].attr_name != item.value) {\r\n                            continue;\r\n                        }\r\n                        this.attr_group[i].attr_list.splice(j, 1);\r\n                        if (this.attr_group[i].attr_list.length == 0) {\r\n                            this.attr_group.splice(i, 1);\r\n                        }\r\n                        break;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n\r\n            // 计算表格数据\r\n            this._table();\r\n        },\r\n        _table() {\r\n            // 表格总行数，计算方式为所有子属性的个数相乘\r\n            let listX = 0;\r\n            let attr_arr = [];\r\n            for (let i = 0; i < this.attr_group.length; i++) {\r\n                let attr_list = this.attr_group[i].attr_list;\r\n                if (listX == 0) {\r\n                    listX = attr_list.length;\r\n                } else {\r\n                    listX = attr_list.length > 0 ? attr_list.length * listX : listX;\r\n                }\r\n            }\r\n            for (let i = 0; i < listX; i++) {\r\n                attr_arr.push({\r\n                    cbj: this.costM,\r\n                    yj: this.oldM,\r\n                    sj: this.sellM,\r\n                    kucun: this.stock,\r\n                    attr_list: []\r\n                });\r\n            }\r\n            this.attr_arr = attr_arr;\r\n\r\n            var th_title = JSON.parse(JSON.stringify(this.attr_group));\r\n\r\n            this._tableList(th_title, 0, listX, listX);\r\n        },\r\n        _abbTable() {\r\n            // 表格总行数，计算方式为所有子属性的个数相乘\r\n            let listX = 0;\r\n            let attr_arr = [];\r\n            for (let i = 0; i < this.addList.length; i++) {\r\n                let attr_list = this.addList[i].attr_list;\r\n                if (listX == 0) {\r\n                    listX = attr_list.length;\r\n                } else {\r\n                    listX = attr_list.length > 0 ? attr_list.length * listX : listX;\r\n                }\r\n            }\r\n            for (let i = 0; i < listX; i++) {\r\n                attr_arr.push({\r\n                    cbj: this.costM,\r\n                    yj: this.oldM,\r\n                    sj: this.sellM,\r\n                    kucun: this.stock,\r\n                    attr_list: []\r\n                });\r\n            }\r\n            this.attr_arr = attr_arr;\r\n\r\n            var th_title = JSON.parse(JSON.stringify(this.addList));\r\n            this._tableList(th_title, 0, listX, listX);\r\n        },\r\n        _tableList(th_title, i, listX, _listX) {\r\n            // 如果该循环的子项没有东西则停止递归\r\n            if (!th_title[i]) {\r\n                if (i < th_title.length - 1) {\r\n                    th_title.splice(i, 1);\r\n                    this._tableList(th_title, i, listX, _listX);\r\n                    return;\r\n                }\r\n                return;\r\n            }\r\n\r\n            // 如果该项属性的没有属性值，则删除该项重新递归\r\n            if (th_title[i].attr_list.length == 0) {\r\n                th_title.splice(i, 1);\r\n                this._tableList(th_title, i, listX, _listX);\r\n                return;\r\n            }\r\n\r\n            // _listX代表当前属性有多少行,默认为总行数 listX总行数\r\n            var strArr = JSON.parse(JSON.stringify(this.attr_arr));\r\n\r\n            var xx = 0; // 代表当前行数\r\n            var name = th_title[i].attr_group_name; //代表当前规格的标题,比如颜色/大小\r\n            //listX为表格总行数\r\n            if (i == 0) {\r\n                // 如果当前规格是第一个\r\n                // 当前规格有多少个,比如颜色,有蓝色白色两个\r\n                for (var j = 0; j < th_title[i].attr_list.length; j++) {\r\n                    var value = th_title[i].attr_list[j].attr_name;\r\n                    // 总行数除当前规格的个数,得出当前规格每个占多少行,比如白色白色白色,黑色黑色黑色\r\n                    for (var x = 0; x < listX / th_title[i].attr_list.length; x++) {\r\n                        strArr[xx].attr_list.push({ attr_id: '', attr_name: value, attr_group_name: name });\r\n                        xx++;\r\n                    }\r\n                }\r\n            } else if (i < th_title.length - 1) {\r\n                // 如果当前规格不是最后一个\r\n                // 当前规格的前一个每个属性有多少行,即当前规格和后面规格相乘的总行数\r\n                _listX = Math.round(_listX / th_title[i - 1].attr_list.length);\r\n                // 外面这层循环代表当前属性在内循环完成之后进入新的循环,比如白色白色黑色黑色红色红色,完成之后再次白色白色黑色黑色红色红色循环,总行数除以前一个属性每个属性有多少行,得出总循环数\r\n                for (var l = 0; l < listX / _listX; l++) {\r\n                    for (var j = 0; j < th_title[i].attr_list.length; j++) {\r\n                        var value = th_title[i].attr_list[j].attr_name;\r\n                        // 当前规格的前一个每个属性行数,除当前\r\n                        for (var x = 0; x < _listX / th_title[i].attr_list.length; x++) {\r\n                            strArr[xx].attr_list.push({\r\n                                attr_id: '',\r\n                                attr_name: value,\r\n                                attr_group_name: name\r\n                            });\r\n                            xx++;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                // 如果当前规格属性是最后一个,格式是x,l,xl x,l,xl循环\r\n                for (var x = 0; x < listX / th_title[i].attr_list.length; x++) {\r\n                    for (var j = 0; j < th_title[i].attr_list.length; j++) {\r\n                        var value = th_title[i].attr_list[j].attr_name;\r\n                        strArr[xx].attr_list.push({ attr_id: '', attr_name: value, attr_group_name: name });\r\n                        xx++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.attr_arr = strArr;\r\n            i++;\r\n            if (i < th_title.length) {\r\n                this._tableList(th_title, i, listX, _listX);\r\n            }\r\n        },\r\n        // 请求方法\r\n        _axios(attribute_str = '', flag) {\r\n            let m = 'get_attribute_name';\r\n            if (flag) {\r\n                m = 'get_attribute_value';\r\n            }\r\n            let data = {\r\n                module: 'app',\r\n                action: 'mch',\r\n                m,\r\n                \r\n                attribute_str: attribute_str,\r\n                attr_arr: this.attr_group.length > 0 ? JSON.stringify(this.attr_group) : ''\r\n            };\r\n\r\n            this.$req.post({ data }).then(res => {\r\n                if (res.code == 200) {\r\n                    if (!flag) {\r\n                        this.pageFlag = true;\r\n                        this.title = this.language.setAttr.Attr[2];\r\n                        this.attrList = res.list.attribute;\r\n                    } else {\r\n                        this.pageFlag = false;\r\n                        this.title = this.language.setAttr.title;\r\n                        this.attrDataList = res.list.list;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        // 完成设置\r\n        _complete() {\r\n            if (this.attr_arr.length == 0) {\r\n                let str = this.attrStyle == 1 ? this.language.setAttr.Tips[5] : this.language.setAttr.Tips[6];\r\n                uni.showToast({\r\n                    title: str,\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n\r\n            if (this.attrStyle == 1) {\r\n                uni.setStorageSync('upload_attr_group', this.attr_group);\r\n                uni.setStorageSync('upload_attr_arr', this.attr_arr);\r\n                uni.setStorageSync('upload_chooseAttr', this.chooseAttr);\r\n            } else {\r\n                uni.setStorageSync('upload_attr_group', this.addList);\r\n                uni.setStorageSync('upload_attr_arr', this.attr_arr);\r\n\r\n                uni.removeStorageSync('upload_chooseAttr');\r\n            }\r\n            uni.navigateBack({\r\n                delta: 1\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import url('../../static/css/myStore/setAttr.less');\r\n</style>\r\n","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setAttr.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./setAttr.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609849170177\n      var cssReload = require(\"F:/BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}