{"version":3,"sources":["uni-app:///main.js","webpack:///F:/ss/pagesA/myStore/coupon.vue?aa9c","webpack:///F:/ss/pagesA/myStore/coupon.vue?0e8e","webpack:///F:/ss/pagesA/myStore/coupon.vue?5200","webpack:///F:/ss/pagesA/myStore/coupon.vue?ef05","uni-app:///pagesA/myStore/coupon.vue","webpack:///F:/ss/pagesA/myStore/coupon.vue?2dc3","webpack:///F:/ss/pagesA/myStore/coupon.vue?a737"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kG;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACc;;;AAGnE;AACqL;AACrL,gBAAgB,kMAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA6rB,CAAgB,ytBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgNjtB;AACA,MADA,kBACA;AACA;AACA,kBADA;AAEA,qFAFA;AAGA,sFAHA;AAIA,sFAJA;;AAMA,+BANA;AAOA,oBAPA;AAQA,uBARA;AASA,cATA;AAUA,qBAVA;AAWA,eAXA;AAYA,kBAZA;AAaA,iBAbA;AAcA,kBAdA;AAeA,sBAfA;AAgBA,mBAhBA,EAgBA;AACA,uBAjBA,EAiBA;AACA,oBAlBA;AAmBA,kBAnBA;AAoBA,iBApBA;AAqBA,sBArBA;;AAuBA,aAvBA;;AAyBA,2BAzBA;;AA2BA,iBA3BA;AA4BA,mBA5BA;AA6BA,aA7BA;AA8BA,qBA9BA;AA+BA,oBA/BA;;AAiCA,sBAjCA;AAkCA,iBAlCA;AAmCA,oBAnCA;AAoCA,eApCA;;AAsCA,oBAtCA;;AAwCA,GA1CA;AA2CA,UA3CA,sBA2CA;AACA;AACA;AACA;AACA;AACA,GAhDA;AAiDA,QAjDA,oBAiDA;AACA;AACA;AACA;AACA;AACA,GAtDA;AAuDA,eAvDA,2BAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA9DA;AA+DA,QA/DA,oBA+DA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA,GA7FA;AA8FA;AACA,SADA,iBACA,EADA,EACA;AACA;AACA;AACA;;AAEA;AACA,qBADA;AAEA,wBAFA;AAGA,0BAHA;AAIA,6CAJA,EAIA;AACA,cALA;;;AAQA;AACA,YADA,GACA,GADA,CACA,IADA,CACA,OADA,GACA,GADA,CACA,OADA,CACA,IADA,GACA,GADA,CACA,IADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAtBA,MAsBA;AACA;AACA,0BADA;AAEA,wBAFA;;AAIA;AACA,OA9BA;AA+BA,KA7CA;AA8CA,SA9CA,mBA8CA;AACA;AACA,qBADA;AAEA,wBAFA;AAGA,kBAHA;AAIA,6CAJA,EAIA;AACA,sBALA;;;AAQA;AACA,YADA,GACA,GADA,CACA,IADA,CACA,OADA,GACA,GADA,CACA,OADA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;;AAKA,OAbA;AAcA,KArEA;AAsEA,aAtEA,qBAsEA,EAtEA,EAsEA;AACA;AACA;AACA,KAzEA;AA0EA,qBA1EA,+BA0EA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KAjFA;AAkFA,WAlFA,qBAkFA;AACA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,wDADA;AAEA,sBAFA;;AAIA;AACA;;AAEA;AACA;AACA,yDADA;AAEA,sBAFA;;AAIA;AACA;;;AAGA;;AAEA;AACA,qBADA;AAEA,wBAFA;AAGA,kBAHA;AAIA,6CAJA,EAIA;AACA,oCALA,EAKA;AACA,uBANA,EAMA;AACA,qCAPA,EAOA;AACA,yBARA,EAQA;AACA,+BATA,EASA;AACA,6BAVA,EAUA;AACA,uBAXA,EAWA;AACA,mCAZA,EAYA;AACA,+BAbA,EAaA;AACA,6BAdA,EAcA;AACA,oCAfA,EAeA;AACA,kCAhBA,EAgBA;AACA,uCAjBA,CAiBA;AAjBA;;AAoBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA,OARA;AASA,KAhNA;AAiNA,SAjNA,mBAiNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KArOA;AAsOA,SAtOA,mBAsOA;AACA;AACA,qBADA;AAEA,wBAFA;AAGA,uBAHA;AAIA,6CAJA,CAIA;AAJA;;AAOA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OATA;;AAWA,KAzPA;AA0PA,aA1PA,qBA0PA,KA1PA,EA0PA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAzQA;AA0QA,WA1QA,qBA0QA;AACA;AACA,qBADA;AAEA,wBAFA;AAGA,wBAHA;AAIA,6CAJA,EAIA;AACA,uBALA;;;AAQA;AACA,8BADA;;AAGA,YAHA,GAGA,GAHA,CAGA,IAHA,CAGA,IAHA,GAGA,GAHA,CAGA,IAHA,CAGA,OAHA,GAGA,GAHA,CAGA,OAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,WALA;;AAOA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAnBA,MAmBA;AACA;AACA,0BADA;AAEA,wBAFA;;AAIA;AACA,OA7BA;AA8BA,KAjTA;AAkTA,SAlTA,iBAkTA,GAlTA,EAkTA;AACA;AACA,gBADA;;AAGA,KAtTA;AAuTA,eAvTA,uBAuTA,CAvTA,EAuTA;AACA;AACA,KAzTA;AA0TA,oBA1TA,4BA0TA,CA1TA,EA0TA;AACA;;AAEA;AACA,KA9TA;AA+TA;AACA,cAhUA,sBAgUA,CAhUA,EAgUA;AACA;AACA;AACA;AACA,KApUA;AAqUA,kBArUA,4BAqUA;AACA;AACA,KAvUA;AAwUA,cAxUA,sBAwUA,CAxUA,EAwUA;AACA;AACA;AACA;AACA,KA5UA;AA6UA,gBA7UA,0BA6UA;AACA;AACA,KA/UA,EA9FA;;AA+aA,4BA/aA,E;;;;;;;;;;;;;AChNA;AAAA;AAAA;AAAA;AAAgxC,CAAgB,6vCAAG,EAAC,C;;;;;;;;;;;ACApyC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesA/myStore/coupon.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesA/myStore/coupon.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./coupon.vue?vue&type=template&id=20912e94&\"\nvar renderjs\nimport script from \"./coupon.vue?vue&type=script&lang=js&\"\nexport * from \"./coupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./coupon.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/myStore/coupon.vue\"\nexport default component.exports","export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=template&id=20912e94&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.delFlag = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"container\" :style=\"{backgroundColor: coupon_list.length == 0 && hasLoad?'':tabIndex == 1?'#F5F5F5':''}\">\r\n        <lktauthorize ref=\"lktAuthorizeComp\" v-on:pChangeLoginStatus=\"changeLoginStatus\"></lktauthorize>\r\n        <heads :title=\"language.storeCoupon.title\"></heads>\r\n        \r\n        <view class=\"tabBox\">\r\n            <view class=\"tab\">\r\n                <view class=\"tab_item\" :class=\"{active: tabIndex == 0}\" @tap=\"changeTab(0)\">\r\n                    {{editsFlag?language.storeCoupon.edit:language.storeCoupon.issue}} {{language.storeCoupon.coupons}}\r\n                </view>\r\n                <view class=\"tab_item\" :class=\"{active: tabIndex == 1}\" @tap=\"changeTab(1)\">\r\n                    {{language.storeCoupon.issuedCoupon}}\r\n                </view>\r\n            </view>\r\n        </view>\r\n        \r\n        <view class=\"addCoupon\" v-if=\"tabIndex == 0\">\r\n            <view class=\"addCoupon_list\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.type}}\r\n                </view>\r\n                <picker class=\"addCoupon_list_ipt\" @change=\"bindPickerChange\" :value=\"activity_type<0?0:activity_type\" :range=\"type_list\">\r\n                    <view class=\"uni-input\" v-if=\"activity_type>=0\">{{type_list[activity_type]}}</view>\r\n                    <view class=\"uni-input\" v-else style=\"color: grey;\">{{language.storeCoupon.typePlaceholder}}</view>\r\n                </picker>\r\n                <image class=\"jiantou\" :src=\"jiantou\"></image>\r\n            </view>\r\n            <view class=\"addCoupon_list\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.name}}\r\n                </view>\r\n                <input :disabled=\"editsFlag\" class=\"addCoupon_list_ipt\" v-model=\"name\" type=\"text\" :placeholder=\"language.storeCoupon.namePlaceholder\">\r\n            </view>\r\n            <view class=\"addCoupon_list\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.issueNumber}}\r\n                </view>\r\n                <input class=\"addCoupon_list_ipt\" v-model=\"circulation\" type=\"number\" :placeholder=\"language.storeCoupon.issueNumberPlaceholder\">\r\n                {{language.storeCoupon.zhang}}\r\n            </view>\r\n            <view class=\"addCoupon_list\" v-if=\"type_index[activity_type] == 2\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.faceValue}}\r\n                </view>\r\n                <input class=\"addCoupon_list_ipt\" v-model=\"money\" type=\"number\" :placeholder=\"language.storeCoupon.faceValuePlaceholder\">\r\n                {{language.storeCoupon.yuan}}\r\n            </view>\r\n            <view class=\"addCoupon_list\" v-if=\"type_index[activity_type] == 3\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.discountValue}}\r\n                </view>\r\n                <input class=\"addCoupon_list_ipt\" v-model=\"discount\" type=\"number\" :placeholder=\"language.storeCoupon.discountValuePlaceholder\">\r\n                {{language.storeCoupon.discount}}\r\n            </view>\r\n            <view class=\"addCoupon_list\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.threshold}}\r\n                </view>\r\n                <input class=\"addCoupon_list_ipt\" v-model=\"z_money\" type=\"number\" :placeholder=\"language.storeCoupon.thresholdPlaceholder\">\r\n                {{language.storeCoupon.yuan}}\r\n            </view>\r\n            <view class=\"addCoupon_list\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text class=\"none\">*</text>\r\n                    {{language.storeCoupon.range}}\r\n                </view>\r\n                <view class=\"addCoupon_list_ipt\">\r\n                    <radio-group class=\"radioBox\" @change=\"radioChange\">\r\n                        <label>\r\n                            <radio class=\"scale8\" :checked=\"type == 1\" value=\"1\" color=\"#FF612A !important\"/>\r\n                            {{language.storeCoupon.all}}\r\n                        </label>\r\n                        <label>\r\n                            <radio class=\"scale8\" :checked=\"type == 2\" value=\"2\" color=\"#FF612A !important\"/>\r\n                            {{language.storeCoupon.specifyPro}}\r\n                        </label>\r\n                        <label >\r\n                            <radio class=\"scale8\" :checked=\"type == 3\" value=\"3\" color=\"#FF612A !important\"/>\r\n                            {{language.storeCoupon.specifyClass}}\r\n                        </label>\r\n                    </radio-group>\r\n                </view>\r\n            </view>\r\n           \r\n            <view class=\"addCoupon_list\" v-if=\"type==2\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.chooseGoods}}\r\n                </view>\r\n                <input @click=\"toUrl('/pagesA/myStore/choosePro')\" disabled :value=\"pro_listText\" class=\"addCoupon_list_ipt\" type=\"text\" :placeholder=\"language.storeCoupon.chooseGoodsPlaceholder\">\r\n                <image class=\"jiantou\" :src=\"jiantou\"></image>\r\n            </view>\r\n            <view class=\"addCoupon_list\" v-if=\"type==3\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.chooseClass}}\r\n                </view>\r\n                <input @click=\"toUrl('/pagesA/myStore/chooseClass')\" disabled :value=\"munu_listText\" class=\"addCoupon_list_ipt\" type=\"text\" :placeholder=\"language.storeCoupon.chooseClassPlaceholder\" style=\"margin-right: 20rpx;\" />\r\n                <image class=\"jiantou\" :src=\"jiantou\"></image>\r\n            </view>\r\n            \r\n            <view class=\"addCoupon_list\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.startTime}}\r\n                </view>\r\n                <input @click=\"clickStarttime\" v-model=\"start_time\" disabled class=\"addCoupon_list_ipt\" type=\"text\" :placeholder=\"language.storeCoupon.startTimePlaceholder\">\r\n                <image class=\"jiantou\" :src=\"jiantou\"></image>\r\n            </view>\r\n            <view class=\"addCoupon_list\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.endTime}}\r\n                </view>\r\n                <input @click=\"clickEndtime\" v-model=\"end_time\" disabled class=\"addCoupon_list_ipt\" type=\"text\" :placeholder=\"language.storeCoupon.endTimePlaceholder\">\r\n                <image class=\"jiantou\" :src=\"jiantou\"></image>\r\n            </view>\r\n            \r\n            <view class=\"addCoupon_list\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text>*</text>\r\n                    {{language.storeCoupon.limit}}\r\n                </view>\r\n                <input v-if=\"limit_type == 1\" class=\"addCoupon_list_ipt\" v-model=\"receive\" type=\"number\" :placeholder=\"language.storeCoupon.limitPlaceholder\">\r\n                <input v-else disabled class=\"addCoupon_list_ipt\" v-model=\"receive\" type=\"number\" :placeholder=\"language.storeCoupon.limitPlaceholder\">\r\n                {{language.storeCoupon.zhang}}\r\n            </view>\r\n            <view class=\"addCoupon_list\" style=\"border-bottom: 0;\">\r\n                <view class=\"addCoupon_list_left\">\r\n                    <text class=\"none\">*</text>\r\n                    {{language.storeCoupon.instructions}}\r\n                </view>\r\n                <input class=\"addCoupon_list_ipt\" type=\"text\" v-model=\"Instructions\" :placeholder=\"language.storeCoupon.instructionsPlaceholder\">\r\n            </view>\r\n            \r\n            <view @tap=\"saveAdd\" style=\"background-color: #FF612A;\" class=\"addCoupon_btn \">{{language.storeCoupon.submit}}</view>\r\n        </view>\r\n       \r\n        <view class=\"seeCoupon\" v-else>\r\n            <view class=\"seeCoupon_item\" v-for=\"item,index of coupon_list\" :key=\"index\">\r\n                <view class=\"seeCoupon_item_top\" :style=\"{backgroundImage: 'url('+couponBg+')'}\">\r\n                    <view class=\"seeCoupon_item_top_left\">\r\n                        <view v-if=\"item.activity_type == '满减券'\">\r\n                            <text>￥</text>{{item.money}}\r\n                        </view>\r\n                        <view v-if=\"item.activity_type == '折扣券'\">\r\n                            {{item.discount}}<text>{{language.storeCoupon.discount}}</text>\r\n                        </view>\r\n                        <text v-if=\"item.z_money>0\">{{language.storeCoupon.full}}￥{{item.z_money}} {{language.storeCoupon.use}}</text>\r\n                        <text v-else>{{language.storeCoupon.noThreshold}}</text>\r\n                    </view>\r\n                    <view class=\"seeCoupon_item_top_right\">\r\n                        <view>{{item.name}}</view>\r\n                        <text>{{item.start_time}}-{{item.end_time}}</text>\r\n                    </view>\r\n                    \r\n                    <view class=\"icon\" v-if=\"item.status == 3\">{{language.storeCoupon.expired}}</view>\r\n                </view>\r\n                <view class=\"seeCoupon_item_center\">\r\n                    <view>\r\n                        {{language.storeCoupon.circulation}}\r\n                        <text>{{item.circulation}}</text>\r\n                    </view>\r\n                    <view>\r\n                        {{language.storeCoupon.remaining}}\r\n                        <text>{{item.num}}</text>\r\n                    </view>\r\n                </view>\r\n                <view class=\"seeCoupon_item_bottom\">\r\n                    <view @tap=\"delCoupon(item.id)\">{{language.storeCoupon.del}}</view>\r\n                    <view @tap=\"edits(item.id)\">{{language.storeCoupon.editor}}</view>\r\n                    <view @tap=\"toUrl('/pagesA/myStore/seeCoupon?id='+item.id)\">{{language.storeCoupon.record}}</view>\r\n                </view>\r\n            </view>\r\n            \r\n            <view class=\"no-bargain\" v-if=\"coupon_list.length == 0 && hasLoad\">\r\n                <img :src=\"noCoupon\">\r\n                <p>{{language.storeCoupon.noFx}}</p>\r\n            </view>\r\n            \r\n            <uni-load-more v-if=\"coupon_list.length>8\" :loadingType=\"loadingType\"></uni-load-more>\r\n        </view>\r\n        \r\n        \r\n        <date ref=\"starttimePicker\" :themeColor=\"themeColor\" :urseTime=\"start_time\" @onConfirm=\"onConfirm1\"></date>\r\n        <date ref=\"endtimePicker\" :themeColor=\"themeColor\" :urseTime=\"end_time\" @onConfirm=\"onConfirm2\"></date>\r\n        \r\n        <view class=\"mask\" v-if=\"delFlag\">\r\n            <view class=\"delMask\">\r\n                <text>{{language.storeCoupon.confirmDel}}</text>\r\n                <view>\r\n                    <view @tap=\"delFlag = false\">{{language.storeCoupon.cancel}}</view>\r\n                    <view @tap=\"delOk\">{{language.storeCoupon.confirm}}</view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nimport date from '../../components/date-time-picker.vue'\r\n    \r\nexport default {\r\n    data() {\r\n        return {\r\n            title: '优惠券',\r\n            jiantou: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/jiantou2x.png',\r\n            couponBg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/couponBg.png',\r\n            noCoupon: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/noCoupon.png',\r\n            \r\n            type_list: ['满减券','折扣券'],\r\n            type_index: [],\r\n            activity_type: -1,\r\n            name: '',\r\n            circulation: '',\r\n            money: '',\r\n            discount: '',\r\n            z_money: '',\r\n            pro_list: '',\r\n            pro_listText: '',\r\n            munu_list: '', //选中分类的ID集合\r\n            munu_listText: '', //选中分类展示在前端的名字集合\r\n            start_time: '',\r\n            end_time: '',\r\n            receive: '',\r\n            Instructions: '',\r\n            \r\n            type: 1,\r\n            \r\n            themeColor: '#007AFF',\r\n            \r\n            tabIndex: 0,\r\n            limit_type: 0,\r\n            page: 1,\r\n            coupon_list: [],\r\n            loadingType: 0,\r\n            \r\n            editsFlag: false,\r\n            editsId: '',\r\n            delFlag: false,\r\n            delId: '',\r\n            \r\n            hasLoad: false,\r\n        };\r\n    },\r\n    onUnload() {\r\n        uni.removeStorageSync('chooseClass')\r\n        uni.removeStorageSync('chooseClassText')  \r\n        uni.removeStorageSync('checkProList')  \r\n        uni.removeStorageSync('checkProListId')  \r\n    },\r\n    onLoad() {\r\n        uni.removeStorageSync('chooseClass')\r\n        uni.removeStorageSync('chooseClassText')  \r\n        uni.removeStorageSync('checkProList')  \r\n        uni.removeStorageSync('checkProListId')  \r\n    },\r\n    onReachBottom() {\r\n        if(this.loadingType!=0){\r\n            return\r\n        }\r\n        this.loadingType = 1\r\n        this.page++\r\n        this.getList()\r\n    },\r\n    onShow() {\r\n        // this.type_list = this.language.storeCoupon.type_list\r\n        \r\n        if(uni.getStorageSync('chooseClass')){\r\n            this.munu_list = uni.getStorageSync('chooseClass')\r\n            this.munu_listText = uni.getStorageSync('chooseClassText')\r\n        }\r\n        \r\n        if(uni.getStorageSync('checkProList')){\r\n            let pro_list = uni.getStorageSync('checkProList')\r\n            let pro_listText = []\r\n            \r\n            this.pro_list = []\r\n            \r\n            pro_list.filter(item=>{\r\n                pro_listText.push(item.product_title)\r\n                this.pro_list.push(item.id)\r\n            })\r\n            this.pro_listText = pro_listText.join()\r\n            this.pro_list = this.pro_list.join()\r\n        }\r\n        \r\n        this.isLogin(()=>{})\r\n        \r\n        if(this.tabIndex == 1){\r\n            this.page = 1\r\n            this.getList()\r\n        }else{\r\n            this.axios()\r\n        }\r\n    },\r\n    methods: {\r\n        edits(id){\r\n            this.tabIndex = 0\r\n            this.editsFlag = true\r\n            this.editsId = id\r\n            \r\n            let data = {\r\n                module:'app',\r\n                action:'coupon',\r\n                app:'modify_page',\r\n                mch_id: uni.getStorageSync('shop_id'), // 店铺id\r\n                id\r\n            }\r\n            \r\n            this.$req.post({data}).then(res=>{\r\n                let { code, message, data } = res\r\n                if(code == 200){\r\n                    this.activity_type = data.activity_type;\r\n                    this.name = data.name;\r\n                    this.circulation = data.circulation;\r\n                    this.money = data.money;\r\n                    this.discount = data.discount;\r\n                    this.z_money = data.z_money;\r\n                    this.start_time = data.start_time;\r\n                    this.end_time = data.end_time;\r\n                    this.receive = data.receive;\r\n                    this.Instructions = data.Instructions;\r\n                    this.type = data.type;\r\n                    this.limit_type = data.limit_type;\r\n                    \r\n                    this.pro_list = data.product_id;\r\n                    this.pro_listText = data.product_name;\r\n                    this.munu_list = data.product_class_name;\r\n                    this.munu_listText = data.product_class_name1;\r\n                    \r\n                    uni.setStorageSync('chooseClass',data.product_class_name)\r\n                    uni.setStorageSync('chooseClassText',data.product_class_name1)\r\n                    uni.setStorageSync('checkProListId',data.product_id)\r\n                }else{\r\n                    uni.showToast({\r\n                        title: message,\r\n                        icon: 'none'\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        delOk(){\r\n            let data = {\r\n                module:'app',\r\n                action:'coupon',\r\n                app:'del',\r\n                mch_id: uni.getStorageSync('shop_id'), // 店铺id\r\n                id: this.delId\r\n            }\r\n            \r\n            this.$req.post({data}).then(res=>{\r\n                let { code, message } = res\r\n                if(code == 200){\r\n                    this.delFlag = false\r\n                    \r\n                    this.page = 1\r\n                    this.getList()\r\n                }\r\n                uni.showToast({\r\n                    title: message,\r\n                    icon: 'none'\r\n                })\r\n                \r\n            })\r\n        },\r\n        delCoupon(id){\r\n            this.delId = id\r\n            this.delFlag = true\r\n        },\r\n        changeLoginStatus(){\r\n            if(this.tabIndex == 1){\r\n                this.page = 1\r\n                this.getList()\r\n            }else{\r\n                this.axios()\r\n            }\r\n        },\r\n        saveAdd(){\r\n            if(this.activity_type < 0){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[0],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(!this.name){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[1],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(!this.circulation){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[2],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(this.type_index[this.activity_type] == 2 && !this.money){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[3],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(this.type_index[this.activity_type] == 3 && !this.discount){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[4],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(!this.z_money){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[5],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(this.type == 2 && !this.pro_listText){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[6],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(this.type == 3 && !this.munu_list){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[7],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(!this.start_time){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[8],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(!this.end_time){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[9],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            if(!this.receive){\r\n                uni.showToast({\r\n                    title: this.language.storeCoupon.couponTips[10],\r\n                    icon: 'none'\r\n                })\r\n                return\r\n            }\r\n            \r\n            \r\n            let activity_type = this.type_index[this.activity_type]\r\n            \r\n            let data = {\r\n                module:'app',\r\n                action:'coupon',\r\n                app:'add',\r\n                mch_id: uni.getStorageSync('shop_id'), // 店铺id\r\n                activity_type:activity_type, // 活动类型\r\n                name:this.name, // 活动名称\r\n                circulation:this.circulation, // 发行数量\r\n                money:this.money, // 优惠券面值\r\n                discount:this.discount, // 折扣值\r\n                z_money:this.z_money, // 满多少\r\n                type:this.type, // 优惠券使用范围\r\n                start_time:this.start_time, // 活动开始时间\r\n                end_time:this.end_time, // 活动结束时间\r\n                receive:this.receive, // 领取限制\r\n                menu_list:this.pro_listText, // 已选项\r\n                class_list:this.munu_list, // 已选项\r\n                Instructions:this.Instructions, // 使用说明\r\n            }\r\n            \r\n            if(this.editsFlag){\r\n                data.app = 'modify'\r\n                data.id = this.editsId\r\n            }\r\n            \r\n            this.$req.post({data}).then(res=>{\r\n                if(res.code == 200){\r\n                    this.changeTab(1)\r\n                }\r\n                uni.showToast({\r\n                    title: res.message,\r\n                    icon: 'none'\r\n                })\r\n            })\r\n        },\r\n        reset(){\r\n            this.activity_type = -1;\r\n            this.name = '';\r\n            this.circulation = '';\r\n            this.money = '';\r\n            this.discount = '';\r\n            this.z_money = '';\r\n            this.pro_list = '';\r\n            this.pro_listText = '';\r\n            this.munu_list = '';\r\n            this.munu_listText = '';\r\n            this.start_time = '';\r\n            this.end_time = '';\r\n            this.receive = '';\r\n            this.Instructions = '';\r\n            this.type = 1;\r\n            \r\n            uni.removeStorageSync('chooseClass')\r\n            uni.removeStorageSync('chooseClassText')  \r\n            uni.removeStorageSync('checkProList')\r\n        },\r\n        axios(){\r\n            let data = {\r\n                module:'app',\r\n                action:'coupon',\r\n                app:'add_page',\r\n                mch_id: uni.getStorageSync('shop_id'), // 店铺id\r\n            }\r\n            \r\n            this.$req.post({data}).then(res=>{\r\n                this.limit_type = res.data.limit_type\r\n            \t\r\n            \tthis.type_list = Object.values(res.data.coupon_type_list)\r\n                this.type_index = Object.keys(res.data.coupon_type_list)\r\n                \r\n                if(this.limit_type == 0){\r\n                    this.receive = 1\r\n                }\r\n            })\r\n            \r\n        },\r\n        changeTab(index){\r\n            this.tabIndex = index\r\n            this.editsFlag = false\r\n            uni.removeStorageSync('chooseClass')\r\n            uni.removeStorageSync('chooseClassText')  \r\n            uni.removeStorageSync('checkProList')  \r\n            uni.removeStorageSync('checkProListId')  \r\n           \r\n            if(this.tabIndex == 1){\r\n                this.page = 1\r\n                this.getList()\r\n            }else{\r\n                this.reset()\r\n                this.axios()\r\n            }\r\n        },\r\n        getList(){\r\n            let data = {\r\n                module:'app',\r\n                action:'coupon',\r\n                app:'mch_index',\r\n                mch_id: uni.getStorageSync('shop_id'), // 店铺id\r\n                page: this.page\r\n            }\r\n            \r\n            this.$req.post({data}).then(res=>{\r\n                this.hasLoad = true\r\n                \r\n                let { code, data, message } = res\r\n                if(code == 200){\r\n                    data.list.filter(item=>{\r\n                        item.money = Number(item.money)\r\n                        item.z_money = Number(item.z_money)\r\n                        item.start_time = item.start_time.substr(0,10).replace(/-/g,'.')\r\n                        item.end_time = item.end_time.substr(0,10).replace(/-/g,'.')\r\n                    })\r\n                    \r\n                    if(this.page == 1){\r\n                        this.coupon_list = []\r\n                    }\r\n                    \r\n                    this.coupon_list.push(...data.list)\r\n                    \r\n                    if(data.list.length>0){\r\n                        this.loadingType = 0\r\n                    }else{\r\n                        this.loadingType = 2\r\n                    }\r\n                }else{\r\n                    uni.showToast({\r\n                        title: message,\r\n                        icon: 'none'\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        toUrl(url){\r\n            uni.navigateTo({\r\n                url\r\n            })\r\n        },\r\n        radioChange(e){\r\n            this.type = e.detail.value\r\n        },\r\n        bindPickerChange(e){\r\n            this.activity_type = Number(e.detail.value)\r\n            \r\n            // console.log(this.type_list[e.detail.value])\r\n        },\r\n        // 营业时间-确定\r\n        onConfirm1(e) {\r\n            var start = e[0].replace(/undefined/g, '00');\r\n            var end = e[1].replace(/undefined/g, '00');\r\n            this.start_time = start + ' ' + end;\r\n        },\r\n        clickStarttime(){\r\n            this.$refs.starttimePicker.show(this.start_time);\r\n        },\r\n        onConfirm2(e) {\r\n            var start = e[0].replace(/undefined/g, '00');\r\n            var end = e[1].replace(/undefined/g, '00');\r\n            this.end_time = start + ' ' + end;\r\n        },\r\n        clickEndtime(){\r\n            this.$refs.endtimePicker.show(this.end_time);\r\n        }\r\n    },\r\n    components: { date }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import url('../../static/css/myStore/coupon.less');\r\n</style>\r\n","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coupon.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609849154618\n      var cssReload = require(\"F:/BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}