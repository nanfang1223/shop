{"version":3,"sources":["uni-app:///main.js","webpack:///F:/ss/pages/collection/discover.vue?22bb","webpack:///F:/ss/pages/collection/discover.vue?36ea","webpack:///F:/ss/pages/collection/discover.vue?f399","webpack:///F:/ss/pages/collection/discover.vue?2ac9","uni-app:///pages/collection/discover.vue","webpack:///F:/ss/pages/collection/discover.vue?ed55","webpack:///F:/ss/pages/collection/discover.vue?4b54"],"names":["createPage","Page"],"mappings":"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","file":"pages/collection/discover.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/collection/discover.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./discover.vue?vue&type=template&id=188bbf5e&scoped=true&\"\nvar renderjs\nimport script from \"./discover.vue?vue&type=script&lang=js&\"\nexport * from \"./discover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./discover.vue?vue&type=style&index=0&id=188bbf5e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"188bbf5e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/collection/discover.vue\"\nexport default component.exports","export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=template&id=188bbf5e&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=script&lang=js&\"","<template>\r\n    <div class=\"discover\" style=\"background-color: #fff;\">\r\n        <heads :title=\"language.discover.title\"></heads>\r\n\r\n        <template v-if=\"loadFlag\">\r\n            <div class=\"discover_one\" v-if=\"product\">\r\n                <img :src=\"product.imgurl\" />\r\n                <div>\r\n                    <p>{{ product.product_title }}</p>\r\n                    <div>\r\n\t\t\t\t\t\t￥<span>{{ product.price }}</span>\r\n\t\t\t\t\t</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"hr\"></div>\r\n            <div class=\"discover_tj\">\r\n                <div class=\"discover_left\"><i></i></div>\r\n                <p>{{language.discover.recommend}}</p>\r\n                <div class=\"discover_right\"><i></i></div>\r\n            </div>\r\n            <ul class=\"allgoods\" v-if=\"collection\">\r\n                <li class=\"allgoods_li\" v-for=\"(items, index) in collection\" @tap=\"_goods(items.id)\" :key=\"index\">\r\n                    <view class=\"relative\" style=\"float: left;display: flex;\">\r\n                        <image class=\"li_image\" lazy-load=\"true\" :src=\"items.imgurl\" />\r\n                        <!-- <view class=\"proDown\">已下架</view> -->\r\n                    </view>\r\n                    <view class=\"li_right\">\r\n                        <p>{{ items.product_title }}</p>\r\n                        <view class=\"right_dpn\">{{language.discover.shop}}：{{ items.mch_name }}</view>\r\n                        <div class=\"li_right_bottom\">\r\n                            <div class=\"allgoods_li_priceBox\" v-if=\"!is_grade\">\r\n                                <div>\r\n                                    <span>￥</span>\r\n                                    {{ items.vip_yprice }}\r\n                                </div>\r\n                                <p>{{ language.shoppingCart.vipPrice }}￥{{items.vip_price}}</p>\r\n                            </div>\r\n                            <div class=\"allgoods_li_priceBox\" v-else>\r\n                                <div>\r\n                                    <span>￥</span>\r\n                                    {{items.vip_price}}\r\n                                </div>\r\n                                <p style=\"color: #999999;text-decoration: line-through;\">￥{{ items.vip_yprice }}</p>\r\n                            </div>\r\n                            <img :src=\"shopImg\" class=\"allgoods_shopImg\" @tap.stop=\"shopping_j(items.id, items)\"/>\r\n                        </div>\r\n                    </view>\r\n                </li>\r\n            </ul>\r\n            <div v-else-if=\"hasFlag == -1\" class=\"relative\">\r\n                <div class=\"noFindDiv\">\r\n                    <div><img class=\"noFindImg\" alt=\"\" :src=\"noFind\" /></div>\r\n                    <span class=\"noFindText\">{{language.discover.nofind}}</span>\r\n                </div>\r\n            </div>\r\n        </template>\r\n        \r\n        <skus ref=\"attrModal\" :stock=\"language.discover.stock2\" :nums=\"language.discover.num\" :confirm=\"language.discover.confirm\" @confirm=\"_confirm\"></skus>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport skus from '../../components/skus.vue';\r\n    \r\nexport default {\r\n    data() {\r\n        return {\r\n            is_grade: false,\r\n            shopImg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/allgoods_shopImg.png',\r\n            noImg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/loading.gif',\r\n            noFind: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/noFind.png',\r\n            title: '发现',\r\n            \r\n            collection: '', //相似商品\r\n            product: '', //本商品\r\n            hasFlag: 0,\r\n            loadFlag: false,\r\n            \r\n            fastTap: true,\r\n            pro_id: '',\r\n            proid: '',\r\n            haveSkuBean: '',\r\n            num: '',\r\n            numb: ''\r\n        };\r\n    },\r\n    components: { skus },\r\n    onLoad(option) {\r\n        \r\n        this.pro_id = this.$store.state.pro_id;\r\n        if (option.pro_id) {\r\n            this.pro_id = option.pro_id;\r\n        }\r\n        this._axios();\r\n    },\r\n    methods: {\r\n        _confirm(sku){\r\n            Object.assign(this.$data,sku)\r\n            // console.log(this.haveSkuBean)\r\n            \r\n            if (!this.fastTap) {\r\n                return\r\n            }\r\n            this.fastTap = false\r\n            if (Boolean(this.haveSkuBean)) {\r\n                if (this.num == 0) {\r\n                    uni.showToast({\r\n                        title: this.language.discover.stock,\r\n                        duration: 1000,\r\n                        icon: 'none'\r\n                    })\r\n                    this.fastTap = true\r\n                } else if (this.num != 0) {\r\n                    this._shopping()\r\n                }\r\n            } else {\r\n                if (this.num == 0) {\r\n                    uni.showToast({\r\n                        title: this.language.discover.stock,\r\n                        duration: 1000,\r\n                        icon: 'none'\r\n                    })\r\n                    this.fastTap = true\r\n                } else {\r\n                    uni.showToast({\r\n                        title: this.language.discover.shop_verification,\r\n                        duration: 1000,\r\n                        icon: 'none'\r\n                    })\r\n                    this.fastTap = true\r\n                }\r\n            }\r\n        },\r\n        // 点击确定购买之后，如果库存不为零。则运行\r\n        _shopping (id) {\r\n            if (this.haveSkuBean) {\r\n                var data = {\r\n                    module: 'app',\r\n                    action: 'product',\r\n                    app: 'add_cart',\r\n                    pro_id: this.proid,\r\n                    attribute_id: this.haveSkuBean.cid,\r\n                    num: this.numb,\r\n                    type: 'addcart'\r\n                }\r\n        \r\n                this.$req\r\n                    .post({ data })\r\n                    .then(res => {\r\n                        let { code, data, message } = res\r\n                        if (code == 200) {\r\n                            uni.showToast({\r\n                                title: this.language.discover.add_success,\r\n                                icon: 'none'\r\n                            })\r\n        \r\n                            this.$store.state.access_id = data.access_id\r\n                            \r\n                            this.haveSkuBean = ''\r\n                            this.$refs.attrModal._mask_f()\r\n                            this.fastTap = true\r\n                        } else {\r\n                            uni.showToast({\r\n                                title: message,\r\n                                icon: 'none'\r\n                            })\r\n                            this.fastTap = true\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        this.fastTap = true\r\n                    })\r\n            } else {\r\n                \r\n                this.fastTap = true\r\n            }\r\n        },\r\n        // 为你推荐商品右下角的小购物车图标\r\n        shopping_j (id) {\r\n            if (!this.fastTap) {\r\n                return\r\n            }\r\n            this.fastTap = false\r\n            this.proid = id\r\n            var data = {\r\n                module: 'app',\r\n                action: 'product',\r\n                app: 'index',\r\n                pro_id: id\r\n            }\r\n        \r\n            this.$req\r\n                .post({ data })\r\n                .then(res => {\r\n                    this.fastTap = true\r\n                    let {\r\n                        data: { collection_id, pro, comments, attrList, skuBeanList, attribute_list, qj_price, type }\r\n                    } = res\r\n                    \r\n                    this.$refs.attrModal.imgurl = pro.img_arr[0]\r\n                    this.$refs.attrModal.num = pro.num\r\n                    this.$refs.attrModal.price = qj_price\r\n                    this.$refs.attrModal.skuBeanList = attribute_list\r\n                    this.$refs.attrModal.initData()\r\n                    this.$refs.attrModal._mask_display()\r\n                })\r\n                .catch(error => {\r\n                    this.fastTap = true\r\n                })\r\n        },\r\n        _axios() {\r\n            var data = {\r\n                module: 'app',\r\n                action: 'addFavorites',\r\n                app: 'similar',\r\n                \r\n                pro_id: this.pro_id\r\n            };\r\n            \r\n            this.$req.post({data}).then(res=>{\r\n                this.loadFlag = true;\r\n                this.is_grade = res.grade==0?false:true;\r\n                if (res.code == 200) {\r\n                    this.collection = res.list;\r\n                    this.product = res.product[0];\r\n                    if (this.collection.length == 0) {\r\n                        this.hasFlag = -1;\r\n                    }\r\n                } else {\r\n                    this.hasFlag = -1;\r\n                    this.collection.length = '';\r\n                    uni.showToast({\r\n                        title: res.message,\r\n                        duration: 1500,\r\n                        icon: 'none'\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        _goods(id) {\r\n            this.$store.commit('SET_PRO_ID', id);\r\n            uni.navigateTo({\r\n                url: '/pages/goods/goodsDetailed'\r\n            });\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url('../../static/css/collection/discover.less');\r\n</style>\r\n","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=style&index=0&id=188bbf5e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discover.vue?vue&type=style&index=0&id=188bbf5e&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609849168621\n      var cssReload = require(\"F:/BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}