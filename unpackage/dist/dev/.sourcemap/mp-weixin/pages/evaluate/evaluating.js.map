{"version":3,"sources":["uni-app:///main.js","webpack:///F:/ss/pages/evaluate/evaluating.vue?35b4","webpack:///F:/ss/pages/evaluate/evaluating.vue?5aac","webpack:///F:/ss/pages/evaluate/evaluating.vue?7eb9","webpack:///F:/ss/pages/evaluate/evaluating.vue?4a82","uni-app:///pages/evaluate/evaluating.vue","webpack:///F:/ss/pages/evaluate/evaluating.vue?3f6f","webpack:///F:/ss/pages/evaluate/evaluating.vue?728a"],"names":["createPage","Page"],"mappings":"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","file":"pages/evaluate/evaluating.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/evaluate/evaluating.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./evaluating.vue?vue&type=template&id=03368d63&scoped=true&\"\nvar renderjs\nimport script from \"./evaluating.vue?vue&type=script&lang=js&\"\nexport * from \"./evaluating.vue?vue&type=script&lang=js&\"\nimport style0 from \"./evaluating.vue?vue&type=style&index=0&id=03368d63&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03368d63\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/evaluate/evaluating.vue\"\nexport default component.exports","export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluating.vue?vue&type=template&id=03368d63&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluating.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluating.vue?vue&type=script&lang=js&\"","<!--\r\n * @Description: In User Settings Edit\r\n * @Author: your name\r\n * @Date: 2019-08-12 15:31:42\r\n * @LastEditTime: 2019-09-05 10:07:21\r\n * @LastEditors: Please set LastEditors\r\n -->\r\n<template>\r\n    <div class='box_eva'>\r\n        <lktauthorize ref=\"lktAuthorizeComp\" v-on:pChangeLoginStatus=\"changeLoginStatus\"></lktauthorize>\r\n        <heads :title='title'></heads>\r\n\r\n        <div class='goods' v-for='(item,index) in goods' :key='item.id'>\r\n            <div class='heads'>\r\n                <img :src='item.commodityIcon'/>\r\n                <div class='heads_bottom' v-if='!add'>\r\n                    <p>{{language.evaluate.evaluating.shop_pf}}</p>\r\n                    <div class='starall'>\r\n                        <img v-for=\"(star,itemIndex) in stars[index]\" :key='itemIndex'\r\n                             :src=\"stars[index][itemIndex].show ? starOnImg : starOffImg\"\r\n                             @tap=\"rating(index,itemIndex,item.commodityId)\"/>\r\n                    </div>\r\n                </div>\r\n                <div class='heads_bottom' v-if='add'>\r\n                    <p class='heads_p'>{{item.product_title}}</p>\r\n                    <p>\r\n                        {{language.evaluate.evaluating.guige}}：{{item.size}}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div class=\"hr\"></div>\r\n            <div class=\"evaluate\">\r\n                <div class=\"input\"> \r\n\t\t\t\t\t<textarea\r\n                        placeholder-style=\"font-size:28rpx;color:#b8b8b8;\"\r\n                        class='input_text'\r\n                        rows=\"4\"\r\n                        maxlength=\"200\"\r\n                        v-model=\"desc[index]\"\r\n                        :placeholder='language.evaluate.evaluating.evaluate_placeholder'/>\r\n\r\n                </div>\r\n                <div>\r\n                    <p class='add_img'>{{language.evaluate.evaluating.add_img}}({{data[index].src.length}}/9)</p>\r\n                    <ul class='evaluat_ul'>\r\n                        <li class='evaluat_li' v-for='(item_img,indexsrc) in data[index].src' :key='indexsrc'>\r\n                            <img class='evaluat_img' :src=\"item_img\" @tap='_previewImg(index,indexsrc)'/>\r\n                            <img class='img_dele' :src=\"delete_img\" @tap=\"_delete(index,indexsrc)\"/>\r\n                        </li>\r\n\r\n                        <li class=\"uploadphoto\" @tap=\"choiceImg(index,data[index].src.length)\"\r\n                            v-if='data[index].src.length<9?true:false'>\r\n                            <img class='xiangji' :src=\"xiangji_img\"/>\r\n                            <p class=\"p eva-p\">{{language.evaluate.evaluating.upload_img}}</p>\r\n                        </li>\r\n\r\n                    </ul>\r\n                    <div class=\"eva-clear-both\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"user\" v-if=\"is_show\">\r\n            <img :src=\"mous ? anonymous:onanonymous\" @tap=\"_mous\"/>\r\n            <span>{{language.evaluate.evaluating.anonymous}}</span>\r\n        </div>\r\n\r\n        <div class=\"hr\"></div>\r\n        <div class=\"card\" style=\"background-color: #FFFFFF;padding-top: 100rpx;\">\r\n            <div class='button' style=\"background: #FF612A;\" @tap=\"submit()\">{{language.evaluate.evaluating.Submit}}</div>\r\n        </div>\r\n        <div v-if=\"show_zz\" style=\"height: 100vh;position: absolute;top: 0;width: 100%;\">\r\n\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data () {\r\n            return {\r\n                num: '',\r\n                aaa: [9, 8, 7, 6, 5, 4, 3, 2, 1, 0],\r\n                title: '发布评价',\r\n                // order_id:'',\r\n                order_details_id: '',\r\n                \r\n                goods: [], //带评价商品信息\r\n                goodsId: [],\r\n                desc: [], //评论内容\r\n                flag: [],\r\n                // remnant: 200 , //最多输入200个字符\r\n                index: '',\r\n                stars: [],//单个商品的星星状态\r\n                starnum: '',//单个商品星级数\r\n                delete_img: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/delete2x.png',\r\n                xiangji_img: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/xiangji2x.png',\r\n                starOffImg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/xing12x.png',//灰星星\r\n                starOnImg: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/xing22x.png?v='+Math.random(),//红星星\r\n                anonymous: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon1/gou2x.png',//匿名\r\n                onanonymous: this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL + 'images/icon/94661f89895ca9ab42b080e14c49c56.png',//署名\r\n                mous: true,//是否匿名\r\n                data: [],\r\n                imgsrc: '',//上传的·图片的地址\r\n                show: false,//图片放大预览\r\n                timeout: '',\r\n                img_index: -1,\r\n                // img_dispaly:true,\r\n                requestTime: 0,\r\n                requestTime1: 0,\r\n                // cunt:0,\r\n                resImg: [],\r\n                add: '',//true为追加评论\r\n                fastTap: true,\r\n                combotab: false,//防止重复提交\r\n                staus: true,\r\n                show_zz: false,\r\n                is_show: true, //匿名是否显示 \r\n            }\r\n        },\r\n        // 监听页面加载\r\n        onLoad (option) {\r\n            var that = this;\r\n            \r\n            this.order_details_id = option.order_details_id\r\n            this.add = option.add\r\n            \r\n            this.num = option.num\r\n\r\n            this.getEvaluatingData()\r\n           \r\n        },\r\n        // 监听页面显示\r\n        onShow () {\r\n\t\t\tif (this.add) {\r\n\t\t\t    this.title = this.language.evaluate.evaluating.Additional\r\n\t\t\t    this.is_show = false\r\n\t\t\t}else{\r\n\t\t\t\tthis.title=this.language.evaluate.evaluating.title\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.isLogin(()=>{\r\n\t\t\t\t\r\n\t\t\t})\r\n        },\r\n        onReady (option) {\r\n            // console.log(this.language.evaluate.evaluating);\r\n            if(this.title=='追加评价' || this.title=='Additional evaluation'){\r\n                this.title = this.language.evaluate.evaluating.Additional\r\n            }else{\r\n                this.title=this.language.evaluate.evaluating.title\r\n            }\r\n        },\r\n        // 计算属性\r\n        computed: {\r\n            remnant () {\r\n                let arr = []\r\n                for (let i = 0; i < this.desc.length; i++) {\r\n                    arr[i] = 200 - this.desc[i].length\r\n                }\r\n                return arr\r\n            }\r\n        },\r\n        // 事件方法\r\n        methods: {\r\n            changeLoginStatus () {\r\n                this.getEvaluatingData()\r\n            },\r\n            _previewImg (index, i) {\r\n                uni.previewImage({\r\n                    current: this.data[index].src[i],\r\n                    urls: this.data[index].src\r\n                })\r\n            },\r\n            /**\r\n             * 获取评论\r\n             * @return { undefind}\r\n             */\r\n            getEvaluatingData () {\r\n                let data = {\r\n                    module: 'app',\r\n                    action: 'product',\r\n                    app: 'comment',\r\n                    order_details_id: this.order_details_id,\r\n                    \r\n                    num: this.num\r\n                }\r\n\r\n                if (this.add) {\r\n                    data.type = 1\r\n                }\r\n\r\n                this.$req.post({ data }).then(res => {\r\n                    if (res.code == 200) {\r\n                        this.goods = res.commentList\r\n                        this.starnum = this.goods.length\r\n\r\n                        let tempArr = []\r\n                        if (this.stars.length > 0) {\r\n                            this.stars = []\r\n                        } else if (this.flag.length > 0) {\r\n                            this.flag = []\r\n                        } else {\r\n\r\n                            for (let i = 0; i < this.goods.length; i++) {\r\n                                this.flag.push(false)\r\n                                for (let j = 0; j < 5; j++) {\r\n                                    tempArr.push({ show: false })\r\n                                }\r\n\r\n                                this.stars.push(tempArr)\r\n                                this.data.push(new Object)\r\n\r\n                                tempArr = []\r\n\r\n                                this.data[i].commodityId = this.goods[i].commodityId\r\n                                this.data[i].size = this.goods[i].size\r\n                                this.data[i].attribute_id = this.goods[i].sid\r\n                                this.data[i].cid = ''\r\n                                this.data[i].index = ''\r\n                                this.$set(this.data[i], 'src', [])\r\n                                this.$set(this.data[i], 'base64_img', [])\r\n                            }\r\n                        }\r\n                    } else {\r\n                        uni.showToast({\r\n                            title: res.data.message,\r\n                            duration: 1500,\r\n                            icon: 'none'\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            /**\r\n             *    评价星星切换\r\n             * @param:  { pIndex:Number }\r\n             * @param:  { sIndex:Number }\r\n             * @param:  { id:Number }\r\n             * @return: undefined\r\n             */\r\n            rating (pIndex, sIndex, id) {\r\n                let con = 0\r\n                let len = this.stars[pIndex].length\r\n\r\n                ++sIndex\r\n                while (con < len) {\r\n                    if (con < sIndex) {\r\n                        this.stars[pIndex][con].show = true\r\n                    } else {\r\n                        this.stars[pIndex][con].show = false\r\n                    }\r\n                    con++\r\n                }\r\n\r\n                this.data[pIndex].starnum = sIndex\r\n            },\r\n            /**\r\n             * 是否匿名\r\n             * @return { undefined }\r\n             * */\r\n            _mous () {\r\n                this.mous = !this.mous\r\n            },\r\n            /**\r\n             * 提交评论\r\n             * @return { undefined }\r\n             * */\r\n            async submit () {\r\n\r\n                if (this.combotab) {\r\n                    return false\r\n                } else {\r\n                    this.combotab = true\r\n\r\n                    setTimeout(() => {\r\n                        this.combotab = false\r\n                    }, 2000)\r\n                }\r\n\r\n                this.fastTap = false\r\n\r\n                for (let i = 0; i < this.data.length; i++) {\r\n\r\n                    if (this.desc.length == 0 || this.desc[i] == '' || this.desc.length < this.data.length) {\r\n                        uni.showToast({\r\n                            title: this.language.evaluate.evaluating.shop_evaluate,\r\n                            duration: 1500,\r\n                            icon: 'none'\r\n                        })\r\n                        this.fastTap = true\r\n                        return\r\n                    } else {\r\n                        this.fastTap = false\r\n                    }\r\n                }\r\n\r\n                if (this.title != '追加评价' || this.title!='Additional evaluation') {\r\n                    for (let i = 0; i < this.data.length; i++) {\r\n                        if (!this.data[i].starnum && !this.add) {\r\n                            uni.showToast({\r\n                                title: this.language.evaluate.evaluating.shop_evaluate,\r\n                                duration: 1500,\r\n                                icon: 'none'\r\n                            })\r\n                            this.fastTap = true\r\n                            return false\r\n                        } else {\r\n                            this.fastTap = true\r\n                        }\r\n                    }\r\n                }\r\n\r\n                for (let i = 0; i < this.goods.length; i++) {\r\n                    this.data[i].content = this.resImg[i]\r\n                }\r\n\r\n                this.requestTime1 = 0\r\n                for (let a = 0; a < this.goods.length; a++) {\r\n                    for (let j = 0; j < this.data[a].src.length; j++) {\r\n                        this.requestTime1 += 1\r\n                    }\r\n                }\r\n\r\n                uni.showLoading({\r\n                    title: this.language.evaluate.evaluating.Loading\r\n                })\r\n                this.show_zz = true\r\n                if (this.add) {\r\n                    for (let b = 0; b < this.goods.length; b++) {\r\n\r\n                        if (this.requestTime1 == 0) {\r\n                            let data = {\r\n                                comment: this.desc[b],\r\n                                start: this.data[b].starnum,\r\n                                module: 'app',\r\n                                action: 'product',\r\n                                app: 't_comment',\r\n                                anonymous: this.mous ? 0 : 1,//1匿名，2不匿名\r\n                                \r\n                                // orderid:me.order_id,\r\n                                order_details_id: this.order_details_id,\r\n                                goodsId: this.data[b].commodityId,\r\n                                attributeId: this.data[b].attribute_id,\r\n                                type: '1',\r\n                                num: this.num\r\n                            }\r\n\r\n                            this.$req.post({ data }).then(res => {\r\n                                let { code, message } = res\r\n                                if (code == 200) {\r\n\r\n                                    uni.showToast({\r\n                                        title: this.language.evaluate.evaluating.Submit_success,\r\n                                        icon: 'none',\r\n                                        duration: 1000\r\n                                    })\r\n\r\n                                    setTimeout(() => {\r\n                                        uni.redirectTo({\r\n                                            url: 'evaluatEnd'\r\n                                        })\r\n\r\n                                        this.fastTap = true\r\n                                    }, 1000)\r\n                                    this.show_zz = false\r\n                                } else {\r\n                                    uni.showToast({\r\n                                        title: message,\r\n                                        icon: 'none',\r\n                                        duration: 1000\r\n                                    })\r\n                                    this.show_zz = false\r\n                                    this.fastTap = true\r\n                                }\r\n                            }).catch(ree => {\r\n                                this.fastTap = true\r\n                            })\r\n\r\n                        } else {\r\n                            this._Timg(b)\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    for (let b = 0; b < this.goods.length; b++) {\r\n                        let data = {\r\n                            comment: this.desc[b],\r\n                            start: this.data[b].starnum,\r\n                            \r\n                            module: 'app',\r\n                            action: 'product',\r\n                            app: 'add_comment',\r\n                            anonymous: this.mous ? 0 : 1,//1匿名，2不匿名\r\n                            order_details_id: this.order_details_id,\r\n                            goodsId: this.data[b].commodityId,\r\n                            attributeId: this.data[b].attribute_id,\r\n                            num: this.num\r\n                        }\r\n\r\n                        if (this.staus) {\r\n                            data = await this._Submission(b, data)\r\n                        }\r\n                        if (b + 1 == this.data.length) {\r\n                            uni.hideLoading()\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             *\r\n             * */\r\n            async _Submission (b, data) {\r\n                try {\r\n                    var me = this\r\n                    let res = await this.$req.post({data})\r\n                    if (res.code == 200) {\r\n                        me.data[b].cid = res.cid\r\n                        if (me.data[b].src.length == 0) {\r\n                            uni.showToast({\r\n                                title: this.language.evaluate.evaluating.Submit_success,\r\n                                icon: 'none',\r\n                                duration: 1500\r\n                            })\r\n                            setTimeout(function () {\r\n                                me.fastTap = true\r\n                                uni.redirectTo({\r\n                                    url: 'evaluatEnd'\r\n                                })\r\n                            }, 1500)\r\n                        } else {\r\n                            me._img(b)\r\n                        }\r\n\r\n                    } else if (res.code != 200) {\r\n                        me.fastTap = true\r\n                        uni.showToast({\r\n                            title: res.message,\r\n                            icon: 'none',\r\n                            duration: 1000\r\n                        })\r\n                    }\r\n                } catch (e) {\r\n                    me.fastTap = true    \r\n                }\r\n                \r\n            },\r\n            /**\r\n             *\r\n             * */\r\n            async _img (b) {\r\n                var me = this\r\n                for (var i = 0; i < me.data[b].src.length; i++) {\r\n                    var parameter = {\r\n                        access_id: me.access_id,\r\n                        module: 'app',\r\n                        action: 'product',\r\n                        app: 'img_comment',\r\n                        cid: me.data[b].cid,\r\n                        upload_z_num: me.data[b].src.length,\r\n                        upload_num: i,\r\n                    }\r\n                    // #ifdef MP-WEIXIN\r\n                    parameter.store_type = 1\r\n                    // #endif\r\n                    // #ifndef MP-WEIXIN\r\n                    parameter.store_type = 2\r\n                    // #endif\r\n                    //判断上次上传结果成功了才能执行下一次方法\r\n                    parameter = await this._upload(b, i, parameter)\r\n\r\n                }\r\n            },\r\n            /**\r\n             *\r\n             * */\r\n            _upload (b, i, parameter) {\r\n                var me = this\r\n                return new Promise((res1) => {\r\n                    uni.uploadFile({\r\n                        url: uni.getStorageSync('url'),\r\n                        filePath: me.data[b].src[i],\r\n                        name: 'file',\r\n                        formData: parameter,\r\n                        success: function (res) {\r\n                            var res2 = JSON.parse(res.data)\r\n                            me.fastTap = true\r\n                            if (res2.code == 200) {\r\n                                i++\r\n                                if (i == me.data[b].src.length && me.data.length - b == 1) {\r\n                                    me.fastTap = true\r\n                                    me.staus = false\r\n                                    uni.showToast({\r\n                                        title: me.language.evaluate.evaluating.Submit_success,\r\n                                        duration: 1500,\r\n                                        icon: 'none'\r\n                                    })\r\n                                    setTimeout(function () {\r\n                                        uni.navigateBack({\r\n                                            delta: 1\r\n                                        })\r\n                                    }, 1500)\r\n                                } else {\r\n                                    me.staus = true\r\n                                }\r\n                            } else {\r\n                                uni.showToast({\r\n                                    title: res2.status,\r\n                                    duration: 1500,\r\n                                    icon: 'none'\r\n                                })\r\n                                return\r\n                            }\r\n                            res1(res2)\r\n                        },\r\n                        error: function () {\r\n                            me.fastTap = true\r\n                        }\r\n                    })\r\n                })\r\n            },\r\n            /**\r\n             *\r\n             * */\r\n            async _Timg (b) {\r\n                var me = this\r\n                for (var i = 0; i < me.data[b].src.length; i++) {\r\n                    var parameter = {\r\n                        access_id: me.access_id,\r\n                        module: 'app',\r\n                        action: 'product',\r\n                        app: 't_comment',\r\n                        anonymous: me.mous ? 0 : 1,//1匿名，2不匿名\r\n                        order_details_id: me.order_details_id,\r\n                        start: me.data[b].starnum,\r\n                        comment: me.desc[b],\r\n                        goodsId: me.data[b].commodityId,\r\n                        attributeId: me.data[b].attribute_id,\r\n                        // num:me.num,\r\n                        upload_z_num: me.data[b].src.length,\r\n                        upload_num: i,\r\n                    }\r\n                    // #ifdef MP-WEIXIN\r\n                    parameter.store_type = 1\r\n                    // #endif\r\n                    // #ifndef MP-WEIXIN\r\n                    parameter.store_type = 2\r\n                    // #endif\r\n                    //判断上次上传结果成功了才能执行下一次方法\r\n                    parameter = await this._upload(b, i, parameter)\r\n\r\n                }\r\n            },\r\n            /**\r\n             * 上传图片\r\n             * @param { number } index\r\n             * @param { number } indexsrc\r\n             * @return { undefined }\r\n             * */\r\n            choiceImg (index, indexsrc) {\r\n                let count = Number(this.aaa[indexsrc])\r\n                uni.chooseImage({\r\n                    count: count,// 默认9\r\n                    sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n                    sourceType: ['album', 'camera'], // 从相册选择\r\n                    success:async (res) => {\r\n                        let list = await this.getImageList(res.tempFilePaths)\r\n                        this.resImg = this.resImg.concat(list)\r\n                        this.data[index].src = this.data[index].src.concat(list)\r\n                    }\r\n                })\r\n            },\r\n            async getImageList (tempFilePaths) {\r\n                let list = tempFilePaths\r\n                for (let key of list.keys()) {\r\n                    let res = await uni.getImageInfo({\r\n                        src: list[key]\r\n                    })\r\n                    list[key] = res[1].path\r\n\r\n                }\r\n                return Promise.resolve(list);\r\n            },\r\n            /**\r\n             * 删除选中图片\r\n             * @param { unmber } index 操作对象位置\r\n             * @param { unmber } pImgIndex 选中图片下标\r\n             * @return { undefined }\r\n             * */\r\n            _delete (index, pImgIndex) {\r\n                if (this.data[index].src.length > 0) {\r\n                    this.data[index].src.splice(pImgIndex, 1)\r\n                    this.resImg.splice(pImgIndex, 1)\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    @import url(\"../../static/css/evaluate/evaluating.less\");\r\n</style>\r\n","import mod from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluating.vue?vue&type=style&index=0&id=03368d63&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./evaluating.vue?vue&type=style&index=0&id=03368d63&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1609849158520\n      var cssReload = require(\"F:/BaiduNetdiskDownload/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}